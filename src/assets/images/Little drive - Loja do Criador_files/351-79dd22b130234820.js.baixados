!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="3e79b5a7-6af0-497c-89e5-37fabd280cbf",e._sentryDebugIdIdentifier="sentry-dbid-3e79b5a7-6af0-497c-89e5-37fabd280cbf")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[351],{96613:function(e,t,n){n.d(t,{Z:function(){return v}});var r=n(85893),a=n(67294),i=n(44579),s=e=>{let t=window.innerHeight||document.documentElement.clientHeight,n=window.innerWidth||document.documentElement.clientWidth;return e.bottom>0&&e.top<t&&e.right>0&&e.left<n},o=(e,t)=>e.top>=0&&e.left>=0&&e.bottom-(t?e.height/t:0)<=(window.innerHeight||document.documentElement.clientHeight)&&e.right-(t?e.width/t:0)/2<=(window.innerWidth||document.documentElement.clientWidth),l=n(39853),c=n(23887),u=n(31634),d=n(60553),v=e=>t=>{let{isWebViewAvailable:n}=(0,d.ZF)(),v=(0,a.useRef)(!1),p=(0,a.useRef)(null),{asset:h,audioCategory:m,creator:f,keyword:g,pagePosition:w}=t,{sendEvent:b}=(0,l.Z)(),x=(0,u.j0)(),C=(0,a.useCallback)(()=>{if(!p.current||!h||!h.id)return;let e=p.current.getBoundingClientRect(),t=n?s(e):o(e,2),r=(null==h?void 0:h.typeId)!==void 0;if(t&&!v.current&&r){var a,i,l,u;b(c.B_.AssetImpression,{assetId:h.id,assetSubTypes:(null==h?void 0:h.assetSubTypes)?null==h?void 0:h.assetSubTypes.join(","):"",assetTypeId:null!==(a=h.typeId)&&void 0!==a?a:0,audioCategory:null!=m?m:"",hasScripts:h.hasScripts,isVerifiedCreator:null==f?void 0:f.isVerifiedCreator,pageNumber:null!==(i=x.currentPageNumber)&&void 0!==i?i:0,pagePosition:null!=w?w:0,searchId:null!==(l=x.searchUuid)&&void 0!==l?l:"",searchKeyword:null!=g?g:"",searchResultSource:null!==(u=x.assetSearchResultSourceMap.get(null==h?void 0:h.id))&&void 0!==u?u:""}),v.current=!0}},[h,m,null==f?void 0:f.isVerifiedCreator,n,g,w,x.assetSearchResultSourceMap,x.currentPageNumber,x.searchUuid,b]);return(0,a.useEffect)(()=>(C(),window.addEventListener("scroll",C,!0),window.addEventListener("resize",C,!0),()=>{window.removeEventListener("scroll",C,!0),window.removeEventListener("resize",C,!0)}),[C]),(0,r.jsx)(i.Z,{container:!0,ref:p,children:(0,r.jsx)(e,{...t})})}},90671:function(e,t,n){n.d(t,{LJ:function(){return s}});var r=n(72054),a=n(57417),i=n(26170);let s=100,o=(0,i.Z)()((e,t,n)=>{let{isVerified:i,isWebViewAvailable:o,tutorialConfig:l}=t,{hoverAttributesContainer:c,hoverAttributes:u,image:d}=n,v=e.transitions.create("background-color",{duration:e.transitions.duration.short}),p={["&:hover, &:hover .".concat(c)]:{backgroundColor:i||o?e.palette.surface[400]:e.palette.states.hover,zIndex:3},["&:hover .".concat(c)]:{maxHeight:s,transition:v,...o&&{border:"solid black 1px",borderTop:"none"}},["&:hover .".concat(u)]:{opacity:1},["&:hover .".concat(d)]:{backgroundColor:o?"none":"transparent"}};return{additionalDetails:{cursor:"pointer"},assetName:{"&":{WebkitBoxOrient:"vertical",WebkitLineClamp:2},boxOrient:"vertical",color:o?e.palette.action.active:void 0,cursor:"pointer",display:"-webkit-box",overflow:"hidden",overflowWrap:"break-word",textOverflow:"ellipsis",width:"100%",...o&&{fontSize:13}},assetNameLink:{width:"100%"},container:{borderRadius:"8px 8px 0 0",marginBottom:24,position:"relative",transition:v,[e.breakpoints.up(a.wt)]:{padding:"".concat(8,"px ").concat(8,"px 0 ").concat(8,"px"),width:200,...p},[e.breakpoints.down(a.wt)]:{padding:"".concat(4,"px ").concat(4,"px 0 ").concat(4,"px"),width:116,...o&&{...(null==l?void 0:l.isToolboxTutorialActive)&&(null==l?void 0:l.nextTutorialStep)===r.V.Insert?{border:"solid ".concat(e.palette.actionV2.primaryBrand.fill," 1px"),borderBottomLeftRadius:"8px",borderBottomRightRadius:"8px"}:{...p,border:"solid transparent 1px",borderBottom:"none",borderRadius:0,"&:hover":{border:"solid black 1px",borderBottom:"none"}},width:80,userSelect:"none"}}},creatorName:{paddingBottom:8,paddingTop:4},freeText:{padding:o?"0px 0px 6px 0px":"8px 0px 4px",textTransform:"uppercase"},hoverAttributes:{"& > *":{paddingBottom:4},"& > :first-of-type":{paddingTop:o?0:4},opacity:0,transition:e.transitions.create("opacity",{duration:e.transitions.duration.short})},hoverAttributesContainer:{borderRadius:"0 0 8px 8px",bottom:0,left:0,maxHeight:0,padding:"0 ".concat(8,"px ").concat(8,"px ").concat(8,"px"),position:"absolute",transform:"translate(0, 100%)",transition:"".concat(v,", ").concat(e.transitions.create("max-height",{delay:e.transitions.duration.short,duration:0})),width:"100%",[e.breakpoints.down(a.wt)]:{padding:"0 ".concat(4,"px ").concat(4,"px ").concat(4,"px"),...o&&{border:"solid transparent 1px",borderRadius:0,borderTop:"none",left:-1,width:80}}},icon:{marginRight:6},image:{backgroundColor:"light"===e.palette.mode?"rgba(51, 59, 76, 0.12)":e.palette.media.secondaryBackground,borderRadius:8,transition:v,width:"100%"},imageContainer:{display:"block"},imageLink:{height:"auto",marginBottom:10,width:"100%"},mediaImage:{backgroundColor:"transparent",borderRadius:8,objectFit:"cover",transition:v,width:"100%"},thumbnailImage:{transition:v,width:"100%",[e.breakpoints.up(a.wt)]:{backgroundColor:e.palette.media.secondaryBackground,borderRadius:8},[e.breakpoints.down(a.wt)]:{backgroundColor:e.palette.surface[300],borderRadius:4}},webViewThumbnail:{cursor:"pointer",height:"auto",marginBottom:10,width:"100%"}}});t.ZP=o},20247:function(e,t,n){n.d(t,{Z:function(){return D}});var r=n(85893),a=n(67294),i=n(74279),s=n(39977),o=n(44579),l=n(61555),c=n(57140),u=n(7414),d=n(31162),v=n(80137),p=n(41664),h=n.n(p),m=n(31634),f=n(73694);let g=new Set([n(53316).a9.Plugin]);var w=e=>void 0!==e&&g.has(e),b=n(33179),x=n(76603),C=n(69057),y=n(18439),k=n(60553),Z=n(97618),I=e=>{let{alt:t,assetLinkProps:n,containerClass:i,gridClassName:s,isPackage:l=!1,isHoveringAssetTile:d=!1,mediaImgClassName:p,onClick:m,onClickAsset:f,targetId:g,thumbnailImgClassName:w,type:b,children:x}=e,{isWebViewAvailable:I}=(0,k.ZF)(),{classes:j}=(0,Z.Z)({isWebViewAvailable:I}),S=(0,a.useRef)(0),A=(0,a.useRef)(0),[N,P]=a.useState(!1),T=(0,a.useContext)(y.TH);if(null===T)throw Error("getAssetMediaIds must be used within a PublishProvider");let{getAssetMediaIds:R}=T,[E,L]=(0,a.useState)([g]),[M,B]=(0,a.useState)(0),V=(0,a.useCallback)(e=>window.setInterval(()=>{B(e=>e+1)},1e3),[]),F=(0,a.useCallback)(()=>{clearTimeout(S.current),S.current=0,clearInterval(A.current),A.current=0,B(0)},[]),W=(0,a.useCallback)(async()=>{N?E.length>0&&(S.current=window.setTimeout(()=>{clearInterval(A.current),A.current=0,A.current=V(E)},0)):await R(g).then(e=>{if(P(!0),e.length>0){let t=[g,...e];L(t),S.current=window.setTimeout(()=>{clearInterval(A.current),A.current=0,A.current=V(t)},0)}})},[E,N,R,V,g]);return(0,a.useEffect)(()=>()=>{F()},[F]),(0,r.jsxs)(a.Fragment,{children:[(0,r.jsxs)(o.Z,{container:!0,"data-testid":"thumbnailWithMediaContainer",direction:"column",onClick:m,className:s,onMouseEnter:W,onMouseLeave:F,children:[null==E?void 0:E.map(e=>(0,r.jsx)("div",{hidden:!0,children:(0,r.jsx)(v.ef,{alt:t,targetId:e,type:b,size:e===g?v.N3._250x250:v.N3._768x432})},e)),(0,r.jsx)(v.ef,{alt:t,imgClassName:M%E.length==0?w:p,containerClass:i,targetId:E[M%E.length],type:b,size:M%E.length==0?v.N3._250x250:v.N3._768x432,onLoadThumbnailStatus:e=>{if(e===v.vi.Blocked){let e=E[M%E.length];L(E.filter(t=>t!==e||t===g))}}}),l&&(0,r.jsx)("div",{className:j.packageIconContainer,children:(0,r.jsx)(u.Z,{fontSize:"small",className:j.packageIcon})}),x]}),d&&(0,r.jsx)(h(),{...n,passHref:!0,onClick:e=>{e.stopPropagation(),null==f||f()},children:(0,r.jsx)(C.Z,{"aria-label":"detailsButton",className:j.detailsIcon,color:"secondary","data-testid":"zoomIcon",children:(0,r.jsx)(c.DYM,{fontSize:"medium"})})})]})},j=n(90102),S=n(65016),A=n(96613),N=n(39853),P=n(23887),T=n(18446),R=n.n(T),E=n(53309),L=n(59995),M=n(57417),B=n(72054),V=n(98857),F=n(80354),W=n(90671);let O=a.memo(e=>{var t,n,p;let g,{assetDetails:C,keyword:y,pageNumber:Z,pagePosition:A,parentAssetId:T,source:R}=e,{asset:O,creator:D,fiatProduct:U,voting:H}=C,{data:z}=(0,L.A8)(),{translate:q}=(0,i.$G)(),{sendEvent:G}=(0,N.Z)(),{assetSearchResultSourceMap:_,searchUuid:K}=(0,m.j0)(),{locale:$}=(0,i.ql)(),{arePreviewsEnabled:X,assetTypeId:Y,isFont:J,isPlugin:Q}=(0,f.Z)(O),{isWebViewAvailable:ee,tutorialConfig:et}=(0,k.ZF)(),{classes:en}=(0,W.ZP)({isVerified:null!==(n=null==D?void 0:D.isVerifiedCreator)&&void 0!==n&&n,isWebViewAvailable:ee,tutorialConfig:et}),er=w(null==O?void 0:O.typeId),ea=null!==(p=null==O?void 0:null===(t=O.assetSubTypes)||void 0===t?void 0:t.includes(d.X9.Package))&&void 0!==p&&p,[ei,es]=(0,a.useState)(!1),eo=(0,s.Z)(e=>e.breakpoints.down(M.wt)),el=e=>{var t,n;let{color:a,variant:i}=e,s=null==U?void 0:null===(t=U.purchasePrice)||void 0===t?void 0:t.currencyCode,c=null==U?void 0:null===(n=U.purchasePrice)||void 0===n?void 0:n.quantity;return s&&c?(0,r.jsx)(o.Z,{container:!0,alignItems:"center",className:en.freeText,children:(0,r.jsx)(l.Z,{color:a,variant:i,children:0===c.significand?q("Label.Free"):(0,b.Z)(c,s,$)})}):null},ec=(null==O?void 0:O.hasScripts)&&!Q,eu=(null==O?void 0:O.assetSubTypes)?O.assetSubTypes.join(","):"",ed=(0,a.useCallback)(()=>{if(null!=O){var e,t,n,r;G(P.B_.AssetClicked,{assetId:null!==(e=O.id)&&void 0!==e?e:0,assetSubTypes:eu,assetTypeId:null!==(t=O.typeId)&&void 0!==t?t:0,buyerStatus:z&&z.purchaserStatus?z.purchaserStatus:"",hasScripts:O.hasScripts,isVerifiedCreator:null==D?void 0:D.isVerifiedCreator,pageNumber:null!=Z?Z:0,pagePosition:null!=A?A:0,searchId:null!=K?K:"",searchResultSource:null!==(r=_.get(null!==(n=O.id)&&void 0!==n?n:0))&&void 0!==r?r:""})}},[O,_,eu,z,null==D?void 0:D.isVerifiedCreator,Z,A,K,G]),ev=!ee&&X&&(null==D?void 0:D.isVerifiedCreator),ep=(0,E.Z)({asset:O,keyword:y,pageNumber:Z,pagePosition:A}),eh=(0,k.ZF)(),em=(0,a.useCallback)(async e=>{if(null!=O)try{var t,n,r,a;let{hasInserted:i}=await eh.call(B.g.insertAsset,{assetId:null!==(t=O.id)&&void 0!==t?t:0,assetName:null!==(n=O.name)&&void 0!==n?n:"",assetSubTypes:null!==(r=null==O?void 0:O.assetSubTypes)&&void 0!==r?r:[],assetTypeId:Y,assetWasDragged:e,insertionMethod:e?"DragInsert":"ClickInsert",isVerifiedCreator:null!==(a=null==D?void 0:D.isVerifiedCreator)&&void 0!==a&&a},k.U5)}catch(e){if(e.code!==F.bU.TIMED_OUT)throw e}},[O,Y,null==D?void 0:D.isVerifiedCreator,eh]),ef=(e,t)=>{var n,a,i;let s=e?ed:void 0,o={alt:null!==(n=null==O?void 0:O.name)&&void 0!==n?n:"Asset Image",assetLinkProps:e?ep:void 0,containerClass:en.imageContainer,isHoveringAssetTile:e?ei:void 0,isPackage:ea,onClick:t?()=>em(!1):void 0,onClickAsset:s,targetId:null!==(a=null==O?void 0:O.id)&&void 0!==a?a:0,type:v.Ij.assetThumbnail};return ev?(0,r.jsx)(I,{...o,thumbnailImgClassName:en.thumbnailImage,mediaImgClassName:en.mediaImage,assetType:null!==(i=null==O?void 0:O.typeId)&&void 0!==i?i:0,parentAssetId:T,source:R}):(0,r.jsx)(j.Z,{...o,imgClassName:en.image,size:v.N3._250x250})},eg=e=>{let{insertOnClick:t=!1,isWebView:n=!0}=e;return(0,r.jsx)(l.Z,{onClick:t?()=>em(!1):void 0,color:n?"info":"inherit",variant:"smallLabel1",className:en.assetName,"data-testid":"assetNameLink",children:null==O?void 0:O.name})};return O?(g=ee&&(Q||J)?(0,r.jsxs)(o.Z,{"data-testid":"assetTile-".concat(O.id),container:!0,className:en.container,direction:"column",onDragStart:e=>{e.preventDefault()},onMouseEnter:()=>{es(!0)},onMouseLeave:()=>{es(!1)},children:[(0,r.jsx)(h(),{className:en.imageLink,...ep,onClick:ed,passHref:!0,children:ef(!0,!1)}),(0,r.jsx)(h(),{...ep,passHref:!0,onClick:ed,className:en.assetNameLink,children:eg({insertOnClick:!1,isWebView:!0})}),(0,r.jsx)(o.Z,{className:en.hoverAttributesContainer,children:(0,r.jsxs)(o.Z,{className:en.hoverAttributes,children:[D&&(0,r.jsx)(x.Z,{creator:D,assetTypeId:Y,variant:"tooltip",assetId:null==O?void 0:O.id,includeAtChar:!1}),(0,r.jsxs)(h(),{...ep,passHref:!0,onClick:ed,className:en.assetNameLink,children:[er&&el({color:"secondary",variant:"tooltip"}),(null==H?void 0:H.showVotes)&&(0,r.jsx)(S.Z,{isWebViewAssetTile:!0,voting:H,showRatingsCount:!0,showTextWhenNotEnoughRatings:!1}),(null==O?void 0:O.hasScripts)&&(0,r.jsx)(l.Z,{color:"secondary",variant:"tooltip",children:q("Label.HasScriptsCompact")})]})]})})]}):ee?(0,r.jsxs)(o.Z,{container:!0,draggable:!0,className:en.container,direction:"column",onDragStart:e=>{e.preventDefault(),em(!0)},onMouseEnter:()=>{es(!0)},onMouseLeave:()=>{es(!1)},children:[(0,r.jsx)(o.Z,{item:!0,className:en.webViewThumbnail,children:ef(!0,!0)}),eg({insertOnClick:!0,isWebView:!0}),(0,r.jsx)(o.Z,{className:en.hoverAttributesContainer,children:(0,r.jsxs)(o.Z,{className:en.hoverAttributes,children:[D&&(0,r.jsx)(x.Z,{creator:D,assetTypeId:Y,variant:"tooltip",color:"secondary",assetId:null==O?void 0:O.id,includeAtChar:!1}),(0,r.jsxs)(o.Z,{container:!0,className:en.additionalDetails,onClick:()=>em(!1),children:[er&&el({color:"secondary",variant:"tooltip"}),(null==H?void 0:H.showVotes)&&(0,r.jsx)(S.Z,{isWebViewAssetTile:!0,voting:H,showRatingsCount:!0,showTextWhenNotEnoughRatings:!1}),ec&&(0,r.jsx)(o.Z,{item:!0,children:(0,r.jsx)(l.Z,{color:"secondary",variant:"tooltip",children:ee?q("Label.HasScripts"):q("Label.HasScriptsCompact")})})]})]})})]}):eo?(0,r.jsxs)(o.Z,{container:!0,className:en.container,direction:"column",children:[(0,r.jsx)(h(),{className:en.imageLink,...ep,onClick:ed,passHref:!0,children:ef(!1,!1)}),(0,r.jsx)(h(),{...ep,passHref:!0,onClick:ed,className:en.assetNameLink,children:eg({insertOnClick:!1,isWebView:!1})}),(0,r.jsx)(h(),{...ep,passHref:!0,onClick:ed,className:en.assetNameLink,children:(0,r.jsxs)(o.Z,{container:!0,direction:"row",alignItems:"center",justifyContent:"flex-start",gap:.5,children:[er&&(0,r.jsx)(o.Z,{item:!0,children:el({color:"inherit",variant:"overline"})}),(null==H?void 0:H.showVotes)&&(0,r.jsx)(o.Z,{item:!0,children:(0,r.jsx)(S.Z,{voting:H,showTextWhenNotEnoughRatings:!1})})]})})]}):(0,r.jsxs)(o.Z,{container:!0,className:en.container,direction:"column",children:[(0,r.jsx)(h(),{className:en.imageLink,...ep,onClick:ed,passHref:!0,children:ef(!1,!1)}),er&&el({color:"inherit",variant:"overline"}),(0,r.jsx)(h(),{...ep,passHref:!0,onClick:ed,className:en.assetNameLink,children:eg({insertOnClick:!1,isWebView:!1})}),(0,r.jsx)(o.Z,{className:en.hoverAttributesContainer,children:(0,r.jsxs)(o.Z,{className:en.hoverAttributes,children:[D&&(0,r.jsx)(x.Z,{creator:D,assetTypeId:Y,variant:"smallLabel2",assetId:null==O?void 0:O.id}),(null==H?void 0:H.showVotes)&&(0,r.jsx)(S.Z,{voting:H,showTextWhenNotEnoughRatings:!1}),ec&&(0,r.jsxs)(o.Z,{container:!0,alignItems:"center",children:[(0,r.jsx)(c.EKh,{fontSize:"small",className:en.icon}),(0,r.jsx)(l.Z,{variant:"body2",children:q("Label.HasScripts")})]}),ea&&(0,r.jsxs)(o.Z,{container:!0,alignItems:"center",children:[(0,r.jsx)(u.Z,{"data-testid":"packageIcon",fontSize:"small",className:en.icon}),(0,r.jsx)(l.Z,{variant:"body2",children:q("Label.Updateable")})]})]})})]}),(0,r.jsx)(V.Z,{asset:O,creator:D,menuSource:P.hc.AssetTileRightClick,children:g})):null},(e,t)=>{var n,r;let{assetDetails:a,...i}=e,{assetDetails:s,...o}=t,l=(null==a?void 0:null===(n=a.asset)||void 0===n?void 0:n.id)===(null==s?void 0:null===(r=s.asset)||void 0===r?void 0:r.id);return R()(i,o)&&l});O.displayName="AssetTile";var D=(0,A.Z)(O)},48288:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(85893),a=n(8937),i=n(74279),s=n(39977),o=n(44579),l=n(61555),c=n(38298),u=n(67294),d=n(57417),v=n(51532),p=n(60553),h=n(434);let m=(0,n(26170).Z)()((e,t)=>{let{isWebViewAvailable:n}=t;return{slider:{...n&&{color:e.palette.actionV2.primaryBrand.fill}},sliderWrapper:{flexGrow:1,height:28,padding:"0 16px"},timeStamp:{margin:"0 16px",width:24,...n&&{fontSize:13}}}});var f=e=>{var t,n;let{src:f,audioFormat:g,isBrowseView:w=!1,isPlaying:b,showTimes:x,onEnded:C,onError:y}=e,k=(0,u.useRef)(null),Z=(0,u.useRef)(),{translate:I}=(0,i.$G)(),{isWebViewAvailable:j}=(0,p.ZF)(),{classes:S}=m({isWebViewAvailable:j}),{clearSnackbar:A,messageAndSeverity:N,setMessageAndSeverity:P}=(0,h.Ds)(),[T,R]=(0,u.useState)(0),[E,L]=(0,u.useState)(0),[M,B]=(0,u.useState)(!1),[V,F]=(0,u.useState)(!1),[W,O]=(0,u.useState)(0),[D,U]=(0,u.useState)(),H=(0,s.Z)(e=>e.breakpoints.down(d.wt)),z=!Number.isFinite(null===(t=k.current)||void 0===t?void 0:t.currentTime)||!Number.isFinite(null===(n=k.current)||void 0===n?void 0:n.duration),q=I("Error.PlayingAudio");(0,u.useEffect)(()=>{let e,t=!0;return(async()=>{try{let n=await (await fetch(f)).blob();t&&(e=(0,v.pe)(n,g),U(e))}catch(e){t&&B(!0)}})(),()=>{t=!1,e&&URL.revokeObjectURL(e)}},[g,f]);let G=()=>{var e;(null===(e=k.current)||void 0===e?void 0:e.duration)&&L(k.current.duration)},_=(0,u.useCallback)(async()=>{if(k.current)try{Z.current=k.current.play(),await Z.current,N.translatedMessage===q&&A()}catch(e){if(e instanceof DOMException&&"AbortError"===e.name&&!D)return;y&&y(),P({autoHide:!0,severity:"error",translatedMessage:q})}},[D,A,q,N.translatedMessage,y,P]),K=(0,u.useCallback)((e,t)=>{if(e.stopPropagation(),k.current){let e="number"==typeof t?t:t[0];O(e),F(!0),R(e/100*k.current.duration),b&&k.current.pause()}},[b]),$=(0,u.useCallback)((e,t)=>{if(e.stopPropagation(),k.current){let e="number"==typeof t?t:t[0],n=e/100*k.current.duration;O(e),F(!1),k.current.currentTime=n,b&&_()}},[b,_]);return((0,u.useEffect)(()=>{let e,t;return!V&&b&&(e=setInterval(()=>{let{currentTime:e,duration:n}=k.current||{};if(k.current&&e&&n){if(R(k.current.currentTime),void 0!==t&&t>e)return;t=e,O(e/n*100)}},100)),()=>{e&&clearInterval(e)}},[V,b]),(0,u.useEffect)(()=>{(async()=>{if(k.current){if(b)_();else try{await Z.current,k.current.pause()}catch(e){}}})()},[b,_]),(0,u.useEffect)(()=>{G()},[]),M)?null:(0,r.jsxs)(o.Z,{container:!0,direction:"row",alignItems:"center",children:[(0,r.jsx)("audio",{ref:k,src:D,onEnded:C,onDurationChange:G}),x&&(0,r.jsx)(l.Z,{className:S.timeStamp,variant:H&&w?"body2":"body1",children:(0,a.Z)(T||0)}),(0,r.jsx)(o.Z,{className:S.sliderWrapper,children:(0,r.jsx)(c.S,{className:S.slider,value:W,onChange:K,onChangeCommitted:$,disabled:z,"aria-label":"audio slider"})}),x&&(0,r.jsx)(l.Z,{className:S.timeStamp,variant:H&&w?"body2":"body1",children:(0,a.Z)(E)})]})}},65849:function(e,t,n){n.d(t,{Z:function(){return Q}});var r=n(85893),a=n(67294),i=n(44579),s=n(61555),o=n(31634),l=n(74279),c=n(20247),u=n(39977),d=n(3153),v=n(69057),p=n(57140),h=n(8537),m=n(19310),f=n(96613),g=n(53316),w=n(73694),b=n(51532),x=n(48288),C=n(173),y=n(76603),k=n(42583),Z=n(39853),I=n(23887),j=n(41664),S=n.n(j),A=n(53309),N=n(60553),P=n(26170);let T=(0,P.Z)()((e,t)=>{let{isWebViewAvailable:n}=t;return{artistName:{...n&&{fontSize:13}},artistNameLink:{overflow:"hidden",textOverflow:"ellipsis","&:hover":{textDecoration:"underline"}}}});var R=e=>{let{assetId:t,creator:n,artistName:a}=e,{isWebViewAvailable:i}=(0,N.ZF)(),{classes:o}=T({isWebViewAvailable:i});return a?(0,r.jsx)(S(),{className:o.artistNameLink,href:"/audio?artistName=".concat(a),passHref:!0,children:(0,r.jsx)(s.Z,{className:o.artistName,variant:"body2",children:a})}):(0,r.jsx)(y.Z,{creator:n,assetTypeId:g.a9.Audio,assetId:t})},E=n(90590),L=n(57417),M=n(98857);let B=(0,P.Z)()((e,t)=>{let{isExpanded:n,isWebViewAvailable:r}=t;return{artist:{[e.breakpoints.up(L.wt)]:{padding:"0 8px",width:"30%"}},assetName:{minWidth:r?64:84,width:"33%",[e.breakpoints.up(L.wt)]:{padding:"0 8px"},[e.breakpoints.down(L.wt)]:{"&":{WebkitBoxOrient:"vertical",WebkitLineClamp:1},display:"-webkit-box",margin:"0 4px",overflow:"hidden",textOverflow:"ellipsis",wordBreak:"break-word"},...r&&{fontSize:13}},audioPlayer:{[e.breakpoints.up(L.wt)]:{padding:"0 8px",width:"70%"},[e.breakpoints.down(L.wt)]:{marginBottom:8}},container:{"&:hover":{background:e.palette.states.hover},background:e.palette.media.secondaryBackground,borderBottom:"1px solid ".concat(e.palette.media.divider),flexWrap:"nowrap",justifyContent:"center",textAlign:"left",width:"100%",[e.breakpoints.up(L.wt)]:{padding:"0 8px"},[e.breakpoints.down(L.wt)]:{padding:"0 4px"}},contentContainer:{alignItems:"center",display:"flex",flexDirection:"row",flexGrow:1,flexWrap:"nowrap",height:36},contentWrapper:{width:"100%"},controlButton:{margin:"0 4px",whiteSpace:"nowrap"},controlButtons:{alignItems:"center",width:"auto",[e.breakpoints.up(L.wt)]:{height:28},[e.breakpoints.down(L.wt)]:{height:36}},creatorName:{minWidth:48,width:"20%",[e.breakpoints.up(L.wt)]:{padding:"0 8px"},[e.breakpoints.down(L.wt)]:{"&":{WebkitBoxOrient:"vertical",WebkitLineClamp:1},display:"-webkit-box",margin:"0 4px",overflow:"hidden",textOverflow:"ellipsis",wordBreak:"break-word"}},description:{"&":{WebkitBoxOrient:"vertical",WebkitLineClamp:2},[e.breakpoints.up(L.wt)]:{padding:"0 8px",width:"70%"},boxOrient:"vertical",display:"-webkit-box",gridArea:"description",lineClamp:2,overflow:"hidden",textOverflow:"ellipsis",...r&&{fontSize:13}},detailsIcon:{"&:hover":{background:"rgba(68, 68, 68, 0.5)"},backgroundColor:"rgba(18, 18, 18, 0.5)",borderRadius:3,height:30,margin:"0 4px",paddingLeft:7,paddingTop:7,whiteSpace:"nowrap",width:30},expandedContainer:{overflow:"hidden",transition:e.transitions.create(["max-height","margin-bottom"]),[e.breakpoints.up(L.wt)]:{marginBottom:n?16:0,maxHeight:n?100:0},[e.breakpoints.down(L.wt)]:{margin:"0 8px 4px 0px",maxHeight:n?148:0}},expandedContent:{width:"100%"},expandedRow:{display:"flex",marginBottom:8,[e.breakpoints.down(L.wt)]:{alignItems:"center",justifyContent:"space-between"}},expandIcon:{height:36,transform:n?"rotate(180deg)":"rotate(0deg)",transition:e.transitions.create("transform")},icon:{height:24,width:24},iconWrapper:{alignItems:"center",display:"flex",height:36,justifyContent:"center",minWidth:24,[e.breakpoints.up(L.wt)]:{margin:"0 12px"}},length:{minWidth:44,width:"10%",[e.breakpoints.up(L.wt)]:{padding:"0 8px"},[e.breakpoints.down(L.wt)]:{margin:"0 4px"},...r&&{fontSize:13}}}}),V=(0,P.Z)()(e=>({logo:{color:e.palette.actionV2.notice.containedHoverFocus}}));var F=e=>{let{width:t,height:n}=e,{classes:{logo:a}}=V();return(0,r.jsxs)("svg",{className:a,width:t,height:n,viewBox:"0 0 19 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M4.66624 0.000488281L4.67402 8.20604C4.21513 7.9416 3.68624 7.77827 3.11846 7.77827C1.39179 7.77827 -0.000427246 9.17049 -0.000427246 10.8894C-0.000427246 12.6083 1.39179 14.0005 3.11846 14.0005C4.84513 14.0005 6.22179 12.6083 6.22179 10.8894V3.1116H9.33291V0.000488281L4.66624 0.000488281ZM3.11846 12.4449C2.26291 12.4449 1.56291 11.7449 1.56291 10.8894C1.56291 10.0338 2.26291 9.33382 3.11846 9.33382C3.97402 9.33382 4.67402 10.0338 4.67402 10.8894C4.67402 11.7449 3.97402 12.4449 3.11846 12.4449Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M13.6663 3.99512L13.6741 12.2007C13.2152 11.9362 12.6863 11.7729 12.1185 11.7729C10.3919 11.7729 8.99963 13.1651 8.99963 14.884C8.99963 16.6029 10.3919 17.9951 12.1185 17.9951C13.8452 17.9951 15.2219 16.6029 15.2219 14.884V7.10623H18.333V3.99512H13.6663ZM12.1185 16.4396C11.263 16.4396 10.563 15.7396 10.563 14.884C10.563 14.0285 11.263 13.3285 12.1185 13.3285C12.9741 13.3285 13.6741 14.0285 13.6741 14.884C13.6741 15.7396 12.9741 16.4396 12.1185 16.4396Z",fill:"currentColor"})]})};let W=(0,P.Z)()(e=>({logo:{color:e.palette.actionV2.notice.containedHoverFocus}}));var O=e=>{let{width:t,height:n}=e,{classes:{logo:a}}=W();return(0,r.jsx)("svg",{className:a,width:t,height:n,viewBox:"0 0 19 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M9.66667 0.158424H9.60904C9.39343 0.170798 9.18749 0.251649 9.02102 0.389287C8.85474 0.527094 8.73694 0.714396 8.68456 0.923887L6.56443 9.40763L5.57724 5.95503C5.51673 5.74366 5.38909 5.55755 5.21349 5.42516C5.03805 5.29278 4.82413 5.22108 4.60412 5.22091H1.67917C1.31746 5.22091 0.983195 5.41398 0.802333 5.72722C0.621472 6.04046 0.621472 6.42641 0.802333 6.73966C0.983195 7.05292 1.31745 7.24597 1.67917 7.24597H3.84066L5.65622 13.5996C5.72402 13.8097 5.85607 13.9937 6.03354 14.1252C6.21118 14.2569 6.42543 14.3298 6.64646 14.3335C6.86919 14.3298 7.08447 14.2526 7.25887 14.114C7.43328 13.9755 7.55719 13.7833 7.61126 13.5672L9.86006 4.57094L11.7555 9.62621C11.8436 9.85995 12.015 10.0527 12.2367 10.1676C12.4584 10.2827 12.7149 10.3117 12.9566 10.2491C13.1985 10.1864 13.4085 10.0367 13.5466 9.82858L15.2708 7.2457H17.6542C18.0159 7.2457 18.3502 7.05264 18.531 6.73939C18.7119 6.42615 18.7119 6.0402 18.531 5.72695C18.3502 5.4137 18.0159 5.22064 17.6542 5.22064H14.7293C14.3908 5.22064 14.0746 5.38964 13.8868 5.67119L12.9583 7.06432L10.6154 0.81531C10.5431 0.622247 10.4134 0.455791 10.2439 0.33851C10.0744 0.221045 9.87296 0.158256 9.66667 0.158424Z",fill:"currentColor"})})};let D=(0,P.Z)()(e=>({categoryLink:{"&:hover":{textDecoration:"underline"}},categoryContainer:{width:"20%",minWidth:36,[e.breakpoints.up(L.wt)]:{padding:"0 8px"},[e.breakpoints.down(L.wt)]:{margin:"0 4px",display:"-webkit-box",overflow:"hidden",textOverflow:"ellipsis",wordBreak:"break-word","&":{WebkitBoxOrient:"vertical",WebkitLineClamp:1}}}}));var U=e=>{let{asset:t}=e,{classes:n}=D(),{audioCategory:a,audioSubCategory:i,audioCategoryTranslated:o,audioSubCategoryTranslated:l}=(0,w.Z)(t);return(0,r.jsxs)("div",{className:n.categoryContainer,"data-testid":"audioCategoryContainer",children:[o&&(0,r.jsx)(S(),{className:n.categoryLink,href:"/audio?tags=".concat(a),passHref:!0,children:(0,r.jsx)(s.Z,{variant:"body2","data-testid":"audioCategory",children:o})}),i&&(0,r.jsx)(s.Z,{variant:"body2",children:" - "}),l&&(0,r.jsx)(S(),{className:n.categoryLink,href:"/audio?tags=".concat(i),passHref:!0,children:(0,r.jsx)(s.Z,{variant:"body2","data-testid":"audioSubCategory",children:l})})]})},H=(0,f.Z)(e=>{var t,n,c;let f,{asset:j,creator:P,fiatProduct:T,isExpanded:V=!1,keyword:W,pagePosition:D,setIsExpanded:H}=e,{length:z,isMusic:q}=(0,w.Z)(j),{translate:G}=(0,l.$G)(),[_,K]=(0,a.useState)(!1),[$,X]=(0,a.useState)(!1),[Y,J]=(0,a.useState)(V),{sendEvent:Q}=(0,Z.Z)(),{assetSearchResultSourceMap:ee,currentPageNumber:et,searchUuid:en}=(0,o.j0)(),{data:er}=(0,E.A)(null!==(c=j.id)&&void 0!==c?c:0,{enabled:V}),ea=null==er?void 0:er.location,ei=null==er?void 0:er.format,es="number"==typeof et?et+1:0,{isWebViewAvailable:eo}=(0,N.ZF)(),{classes:el}=B({isExpanded:V,isWebViewAvailable:eo}),ec=(0,u.Z)(e=>e.breakpoints.down(L.wt)),eu=g.a9.Audio,ed=(null==j?void 0:j.assetSubTypes)?j.assetSubTypes.join(","):"",ev=(0,a.useCallback)(()=>{if(null!=j){var e,t,n,r;Q(I.B_.AssetClicked,{assetId:null!==(e=j.id)&&void 0!==e?e:0,assetSubTypes:ed,assetTypeId:null!==(t=j.typeId)&&void 0!==t?t:0,hasScripts:j.hasScripts,isVerifiedCreator:null==P?void 0:P.isVerifiedCreator,pageNumber:null!=es?es:0,pagePosition:null!=D?D:0,searchId:null!=en?en:"",searchResultSource:null!==(r=ee.get(null!==(n=j.id)&&void 0!==n?n:0))&&void 0!==r?r:""})}},[j,ee,ed,null==P?void 0:P.isVerifiedCreator,es,D,en,Q]),ep=(0,a.useCallback)(()=>{let e=!V;if(H(j.id,e),e&&null!==j){var t,n,r,a;Q(I.B_.AssetClicked,{assetId:null!==(t=j.id)&&void 0!==t?t:0,assetSubTypes:ed,assetTypeId:null!==(n=j.typeId)&&void 0!==n?n:0,hasScripts:j.hasScripts,isVerifiedCreator:null==P?void 0:P.isVerifiedCreator,pageNumber:es,pagePosition:null!=D?D:0,searchId:null!=en?en:"",searchResultSource:null!==(a=ee.get(null!==(r=j.id)&&void 0!==r?r:0))&&void 0!==a?a:""})}},[V,H,j,Q,ed,null==P?void 0:P.isVerifiedCreator,es,D,en,ee]),{audioDetails:eh}=j,em=(0,a.useCallback)(e=>{var t,n,r,a,i,s,o;Q(e?I.B_.AudioPlayed:I.B_.AudioStopped,{artist:null!==(t=null==eh?void 0:eh.artist)&&void 0!==t?t:void 0,assetId:null!==(n=j.id)&&void 0!==n?n:0,audioType:null!==(r=null==eh?void 0:eh.audioType)&&void 0!==r?r:void 0,musicAlbum:null!==(a=null==eh?void 0:eh.musicAlbum)&&void 0!==a?a:void 0,musicGenre:null!==(i=null==eh?void 0:eh.musicGenre)&&void 0!==i?i:void 0,soundEffectCategory:null!==(s=null==eh?void 0:eh.soundEffectCategory)&&void 0!==s?s:void 0,soundEffectSubcategory:null!==(o=null==eh?void 0:eh.soundEffectSubcategory)&&void 0!==o?o:void 0})},[Q,j.id,null==eh?void 0:eh.audioType,null==eh?void 0:eh.artist,null==eh?void 0:eh.musicAlbum,null==eh?void 0:eh.musicGenre,null==eh?void 0:eh.soundEffectCategory,null==eh?void 0:eh.soundEffectSubcategory]),ef=(0,a.useRef)();ef.current=$;let eg=(0,a.useCallback)(e=>{e.stopPropagation()},[]),ew=(0,a.useCallback)(()=>{K(!0)},[]),eb=(0,a.useCallback)(()=>{K(!1)},[]),ex=(0,a.useCallback)(e=>{e.stopPropagation(),em(!ef.current),X(e=>!e)},[em]),eC=(0,a.useCallback)(()=>{em(!1),X(!1)},[em]);(0,a.useEffect)(()=>{$&&H(j.id,!0)},[j.id,$,H]),(0,a.useEffect)(()=>{V?J(!0):X(!1)},[V]),f=_||$?(0,r.jsx)(C.Z,{isPlaying:$,compact:!0,onClick:ex}):q?(0,r.jsx)(F,{width:19,height:18}):(0,r.jsx)(O,{width:19,height:15});let ey=(0,A.Z)({asset:j,keyword:W,pageNumber:es,pagePosition:D}),ek=(0,a.useMemo)(()=>{var e;return(0,r.jsx)(s.Z,{variant:"body2",className:el.artist,onClick:eg,children:(null===(e=j.audioDetails)||void 0===e?void 0:e.artist)&&(0,r.jsx)(y.Z,{creator:P,assetId:null==j?void 0:j.id,assetTypeId:g.a9.Audio,displayAsAuthor:!0,fontSizeOverride:eo?13:void 0})})},[null===(t=j.audioDetails)||void 0===t?void 0:t.artist,null==j?void 0:j.id,P,eo,eg,el.artist]),eZ=(0,a.useMemo)(()=>(0,r.jsx)(i.Z,{className:el.audioPlayer,onClick:eg,children:ea&&((0,b.Pt)(ei)?(0,r.jsx)(x.Z,{src:ea,audioFormat:ei,isBrowseView:!0,isPlaying:$,showTimes:!0,onError:eC,onEnded:eC}):(0,r.jsx)(d.A,{severity:"info",children:G("Error.AudioPreviewUnavailableOnBrowser")}))}),[ei,ea,$,eC,eg,el,G]);return(0,r.jsx)(M.Z,{asset:j,creator:P,menuSource:I.hc.AudioRowRightClick,children:(0,r.jsxs)(i.Z,{container:!0,className:el.container,"data-testid":"audioRow",onClick:ep,onMouseEnter:ew,onMouseLeave:eb,children:[(0,r.jsx)(i.Z,{className:el.iconWrapper,children:f}),(0,r.jsxs)(i.Z,{className:el.contentWrapper,children:[(0,r.jsxs)(i.Z,{className:el.contentContainer,children:[(0,r.jsx)(s.Z,{variant:"smallLabel1",className:el.assetName,children:j.name}),(0,r.jsx)(i.Z,{className:el.creatorName,children:(0,r.jsx)(R,{artistName:null===(n=j.audioDetails)||void 0===n?void 0:n.artist,creator:P,assetId:null==j?void 0:j.id})}),(0,r.jsx)(U,{asset:j}),(0,r.jsx)(s.Z,{variant:"body2",className:el.length,children:z})]}),(0,r.jsxs)(i.Z,{className:el.expandedContainer,children:[ec&&eZ,(0,r.jsxs)(i.Z,{className:el.expandedRow,children:[(0,r.jsx)(s.Z,{variant:"body2",color:ec?"secondary":"inherit",className:el.description,onClick:eg,children:j.description}),!ec&&ek]}),(0,r.jsxs)(i.Z,{alignItems:"center",className:el.expandedRow,display:"flex",justifyContent:"space-between",children:[ec&&ek,!ec&&eZ,(0,r.jsxs)(i.Z,{container:!0,className:el.controlButtons,wrap:"nowrap",onClick:eg,children:[eo?(0,r.jsx)(S(),{...ey,passHref:!0,"data-testid":"moreInfoLink",onClick:e=>{e.stopPropagation(),ev()},children:(0,r.jsx)(v.Z,{"aria-label":"detailsButton",className:el.detailsIcon,color:"onMediaDark","data-testid":"zoomIcon",children:(0,r.jsx)(p.DYM,{fontSize:"medium"})})}):(0,r.jsx)(h.Z,{className:el.controlButton,color:"secondary","data-testid":"moreInfoButton",variant:"contained",size:"small",children:(0,r.jsx)(S(),{...ey,passHref:!0,"data-testid":"moreInfoLink",children:(0,r.jsx)(s.Z,{variant:"buttonSmall",children:G("Action.MoreInfo")})})}),j.id&&Y&&(0,r.jsx)(k.ZP,{assetId:j.id,assetSubTypes:(null==j?void 0:j.assetSubTypes)||null,assetTypeId:eu,assetName:j.name,asyncPurchaseSuccess:!1,creator:P,fiatProduct:T,hasScripts:j.hasScripts,isFiatProductLoading:!1,keyword:W,pageNumber:es,pagePosition:D,size:"small"})]})]})]})]}),!ec&&(0,r.jsx)(m.E,{className:el.expandIcon})]})})});let z=(0,P.Z)()(e=>({table:{maxWidth:1800},headerContainer:{width:"100%",[e.breakpoints.up(L.wt)]:{padding:"12px 8px 16px"},[e.breakpoints.down(L.wt)]:{padding:"4px 4px"}},header:{flexGrow:1,[e.breakpoints.down(L.wt)]:{alignItems:"center",display:"flex",flexDirection:"row",flexWrap:"nowrap"}},assetName:{width:"33%",minWidth:84,[e.breakpoints.up(L.wt)]:{display:"inline-block",padding:"0 8px"},[e.breakpoints.down(L.wt)]:{margin:"0 4px"}},length:{width:"10%",minWidth:44,[e.breakpoints.up(L.wt)]:{display:"inline-block",padding:"0 8px"},[e.breakpoints.down(L.wt)]:{margin:"0 4px"}},creatorName:{width:"20%",minWidth:48,[e.breakpoints.up(L.wt)]:{display:"inline-block",padding:"0 8px"},[e.breakpoints.down(L.wt)]:{margin:"0 4px"}},category:{width:"20%",minWidth:36,[e.breakpoints.up(L.wt)]:{display:"inline-block",padding:"0 8px"},[e.breakpoints.down(L.wt)]:{margin:"0 4px"}},iconPlaceholder:{[e.breakpoints.up(L.wt)]:{width:"48px"},[e.breakpoints.down(L.wt)]:{width:"24px"}},expandPlaceholder:{width:"24px"}}));var q=e=>{let{assetMap:t,assetType:n,keyword:o}=e,{translate:c}=(0,l.$G)(),[d,v]=(0,a.useState)(),{classes:p}=z(),h=(0,a.useMemo)(()=>Array.from(t.values(),e=>e),[t]),m=(0,a.useCallback)((e,t)=>{v(t?e:null)},[]),f=(0,u.Z)(e=>e.breakpoints.down(L.wt));return(0,r.jsxs)(i.Z,{container:!0,className:p.table,children:[(0,r.jsxs)(i.Z,{container:!0,className:p.headerContainer,children:[(0,r.jsx)(i.Z,{className:p.iconPlaceholder}),(0,r.jsxs)(i.Z,{className:p.header,children:[(0,r.jsx)(s.Z,{variant:f?"smallLabel1":"overline",color:"secondary",className:p.assetName,children:c("Label.Name")}),(0,r.jsx)(s.Z,{variant:f?"smallLabel1":"overline",color:"secondary",className:p.creatorName,children:c(n===g.a9.Music?"Label.Uploader":"Label.Creator")}),(0,r.jsx)(s.Z,{variant:f?"smallLabel1":"overline",color:"secondary",className:p.category,children:c("Label.Tags")}),(0,r.jsx)(s.Z,{variant:f?"smallLabel1":"overline",color:"secondary",className:p.length,children:c("Label.Length")})]}),!f&&(0,r.jsx)(i.Z,{className:p.expandPlaceholder})]}),h.map((e,t)=>{let{asset:a,creator:i,fiatProduct:s}=e;return(null==a?void 0:a.id)&&i?(0,r.jsx)(H,{asset:a,audioCategory:n,creator:i,fiatProduct:s,keyword:o,pagePosition:t,setIsExpanded:m,isExpanded:d===a.id},a.id):null})]})},G=n(56227),_=n(51972),K=n(80137),$=n(90102);let X=(0,P.Z)()((e,t,n)=>{let{hoverAttributesContainer:r,hoverAttributes:a,image:i,shadow:s}=n,o=e.transitions.create("background-color",{duration:e.transitions.duration.short});return{container:{backgroundColor:e.palette.surface[300],borderRadius:8,padding:8,overflow:"hidden",position:"relative",transition:o,height:85,width:"100%","&:hover":{backgroundColor:e.palette.states.hover},["&:hover .".concat(r)]:{maxHeight:85,transition:o},["&:hover .".concat(a)]:{opacity:1},["&:hover .".concat(i)]:{backgroundColor:"transparent"},["&:hover .".concat(s)]:{opacity:1,visibility:"visible"}},shadow:{background:"linear-gradient(to left, ".concat(e.palette.states.hover,", transparent)"),borderRadius:"0 8px 8px 0",position:"absolute",opacity:0,transition:"visibility 0s linear,opacity 0.25s linear",visibility:"hidden",top:0,right:0,width:50,height:"100%"},assetNameLink:{width:"100%"},assetName:{overflow:"hidden",textOverflow:"ellipsis",overflowWrap:"break-word",width:"100%",display:"box",lineClamp:2,boxOrient:"vertical","&":{display:"-webkit-box"}},hoverAttributesContainer:{position:"absolute",right:8,top:8,width:"auto",padding:"0 ".concat(8,"px ").concat(8,"px ").concat(8,"px"),borderRadius:"0 0 8px 8px",zIndex:1,maxHeight:0},hoverAttributes:{transition:e.transitions.create("opacity",{duration:e.transitions.duration.short}),opacity:0},image:{filter:"light"===e.palette.mode?"invert()":"none",width:"auto",height:34,marginTop:5,transition:o,maskImage:"linear-gradient(to left, rgba(0,0,0,0) 0%, rgba(0,0,0,1) 40%)"},thumbnailImage:{backgroundColor:e.palette.media.secondaryBackground,transition:o,width:"100%",paddingTop:10},mediaImage:{backgroundColor:"transparent",objectFit:"cover",transition:o,width:"100%"},imageContainer:{display:"block"},imageLink:{height:"auto",width:"100%"}}});var Y=(0,f.Z)(e=>{var t,n;let{assetDetails:l,keyword:c,pageNumber:d,pagePosition:v}=e,{sendEvent:p}=(0,Z.Z)(),{assetSearchResultSourceMap:h,searchUuid:m}=(0,o.j0)(),{asset:f,creator:g}=l,{classes:w}=X(),b=null==f?void 0:f.typeId,x=(null==f?void 0:f.assetSubTypes)?f.assetSubTypes.join(","):"",C=(0,a.useCallback)(()=>{if(null!=f){var e,t,n,r;p(I.B_.AssetClicked,{assetId:null!==(e=f.id)&&void 0!==e?e:0,assetSubTypes:x,assetTypeId:null!==(t=f.typeId)&&void 0!==t?t:0,hasScripts:f.hasScripts,isVerifiedCreator:null==g?void 0:g.isVerifiedCreator,pageNumber:null!=d?d:0,pagePosition:null!=v?v:0,searchId:null!=m?m:"",searchResultSource:null!==(r=h.get(null!==(n=f.id)&&void 0!==n?n:0))&&void 0!==r?r:""})}},[f,p,x,null==g?void 0:g.isVerifiedCreator,d,v,m,h]),k=(0,A.Z)({asset:f,keyword:c,pageNumber:d,pagePosition:v}),j=(0,u.Z)(e=>e.breakpoints.down(L.wt));return(0,r.jsxs)(i.Z,{container:!0,className:w.container,direction:"row",children:[(0,r.jsx)(S(),{...k,className:w.assetNameLink,onClick:C,"data-testid":"fontTile",passHref:!0,children:(0,r.jsx)(s.Z,{variant:"smallLabel1",className:w.assetName,children:null==f?void 0:f.name})}),(0,r.jsx)(S(),{className:w.imageLink,...k,onClick:C,passHref:!0,children:(0,r.jsx)($.Z,{alt:null!==(t=null==f?void 0:f.name)&&void 0!==t?t:"Asset Image",containerClass:w.imageContainer,imgClassName:w.image,size:K.N3._728x90,targetId:null!==(n=null==f?void 0:f.id)&&void 0!==n?n:0,type:K.Ij.assetThumbnail})}),!j&&(0,r.jsx)(i.Z,{className:w.hoverAttributesContainer,children:(0,r.jsx)(i.Z,{className:w.hoverAttributes,children:g&&(0,r.jsx)(y.Z,{creator:g,assetTypeId:b,variant:"smallLabel2",assetId:null==f?void 0:f.id})})}),(0,r.jsx)(i.Z,{className:w.shadow})]})});let J=(0,P.Z)()(e=>({loadingContainer:{minHeight:200},noResultsContainer:{backgroundColor:e.palette.background.media,borderRadius:5,height:183,width:"100%"}}));var Q=e=>{let{assetType:t,data:n,isLoading:u,keyword:d,pageNumber:v,parentAssetId:p,assetSubtypes:h,source:m}=e,{classes:f}=J(),{translate:w}=(0,l.$G)(),{searchedCreatorId:b}=(0,o.j0)(),x=(0,G.Z)(t),C=t===g.a9.FontFamily,y=(0,a.useMemo)(()=>Array.from(n.entries(),e=>{let[t,n]=e;return{name:t,value:n}}),[n]);return u?(0,r.jsx)(i.Z,{container:!0,className:f.loadingContainer,children:(0,r.jsx)(_.Z,{})}):0===n.size?(0,r.jsx)(i.Z,{container:!0,alignItems:"center",className:f.noResultsContainer,"data-testid":"assetTileGridNoResultsTestId",justifyContent:"center",children:(0,r.jsx)(s.Z,{align:"center",color:"secondary",children:w(void 0!==b&&-1===b?"Message.UserNotFound":"Message.NoResultsFound")})}):x?(0,r.jsx)(q,{assetType:t,assetMap:n,keyword:d}):C?(0,r.jsx)(i.Z,{container:!0,spacing:2,"data-testid":"fontTileGridTestId",children:y.map((e,t)=>{var n,a;return(0,r.jsx)(i.Z,{item:!0,XSmall:12,XLarge:6,"data-testid":"fontTileTestId".concat((null===(n=e.value.asset)||void 0===n?void 0:n.id)||0),children:(0,r.jsx)(Y,{assetDetails:e.value,creator:e.value.creator,keyword:d,pagePosition:t,pageNumber:v})},(null===(a=e.value.asset)||void 0===a?void 0:a.id)||t)})}):(h&&(y=function(e,t){let n=[],r=[];for(let a=0;a<e.length;a+=1){let i=e[a];(function(e,t){var n;let r=null===(n=e.value.asset)||void 0===n?void 0:n.assetSubTypes;return!!r&&t[0]===r[0]})(i,t)?n.push(i):r.push(i)}return n.concat(r)}(y,h)),(0,r.jsx)(i.Z,{container:!0,"data-testid":"assetTileGridTestId",children:y.map((e,t)=>{var n,a,s;return(0,r.jsx)(i.Z,{"data-testid":"assetTileTestId".concat((null===(n=e.value.asset)||void 0===n?void 0:n.id)||0),children:(0,r.jsx)(c.Z,{asset:null!==(s=e.value.asset)&&void 0!==s?s:null,assetDetails:e.value,creator:e.value.creator,keyword:d,pageNumber:v,pagePosition:t,parentAssetId:p,source:m})},(null===(a=e.value.asset)||void 0===a?void 0:a.id)||t)})}))}},5626:function(e,t,n){n.d(t,{Z:function(){return w}});var r=n(85893),a=n(67294),i=n(69057),s=n(57140),o=n(38380),l=n(59031),c=n(60553),u=n(26170),d=n(90671);let v=(e,t)=>t<16?"".concat(e,"0").concat(t.toString(16)):"".concat(e).concat(t.toString(16)),p=(0,u.Z)()((e,t)=>({wrapper:{position:"relative",width:"100%",marginBottom:t.containsAssetTiles?-d.LJ:0},carousel:{display:"flex",flexWrap:"nowrap",width:"100%",overflowX:"scroll",scrollbarWidth:"none",paddingBottom:t.containsAssetTiles?d.LJ:0,"&::-webkit-scrollbar ":{display:"none"},"& > * ":{marginRight:"inherit",flexShrink:0},"& > *:last-child":{marginRight:0},...t.isWebViewAvailable&&{overscrollBehaviorX:"none",overscrollBehaviorY:"auto",WebkitAutoScrollBehaviorX:"none",WebkitAutoScrollBehaviorY:"auto"}},scrollingCarousel:{overflowX:"scroll"},leftBumper:{pointerEvents:"none",zIndex:e.zIndex.speedDial,position:"absolute",height:t.containsAssetTiles?"calc(100% - ".concat(d.LJ,"px)"):"100%",top:0,left:-1,backgroundImage:"linear-gradient(to right, ".concat(v(e.palette.surface[0],255),", ").concat(v(e.palette.common.black,0),")"),direction:"rtl",...t.isWebViewAvailable&&{backgroundImage:"none"}},rightBumper:{pointerEvents:"none",zIndex:e.zIndex.speedDial,position:"absolute",height:t.containsAssetTiles?"calc(100% - ".concat(d.LJ,"px)"):"100%",top:0,right:-1,backgroundImage:"linear-gradient(to left, ".concat(v(e.palette.surface[0],255),", ").concat(v(e.palette.common.black,0),")"),direction:"ltr",...t.isWebViewAvailable&&{backgroundImage:"none"}},bumperWrapper:{display:"flex",width:100,height:"100%",justifyContent:"end"},iconButton:{pointerEvents:"all",opacity:0,alignSelf:"center",transition:"400ms",color:t.isWebViewAvailable?e.palette.actionV2.primary.fill:e.palette.content.inverse,backgroundColor:t.isWebViewAvailable?e.palette.content.inverse:e.palette.actionV2.primary.fill,"&:hover":{backgroundColor:t.isWebViewAvailable?e.palette.content.inverse:e.palette.actionV2.primary.fill},...t.isWebViewAvailable&&{padding:8}},hoverIconButton:{opacity:1}}));var h=void 0;let{getCurrentBrowser:m,Browser:f}=l.device,g=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return[function(){for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];clearTimeout(t),t=setTimeout(()=>{e.apply(h,a)},n)},()=>{clearTimeout(t)}]};var w=e=>{var t,n,l,u;let{children:d,paginationPercentage:v=.8,containsAssetTiles:h=!1}=e,{isWebViewAvailable:w}=(0,c.ZF)(),{classes:b,cx:x}=p({containsAssetTiles:h,isWebViewAvailable:w}),C=m(),y=(0,a.useRef)(null),[k,Z]=(0,a.useState)(!1),[I,j]=(0,a.useState)(window.innerWidth),[S,A]=(0,a.useState)(null!==(l=null===(t=y.current)||void 0===t?void 0:t.scrollLeft)&&void 0!==l?l:0),[N,P]=(0,a.useState)(null!==(u=null===(n=y.current)||void 0===n?void 0:n.scrollWidth)&&void 0!==u?u:0),T=(0,a.useMemo)(()=>0===S,[S]),R=(0,a.useMemo)(()=>S+I>=N,[S,N,I]);(0,a.useEffect)(()=>{var e;null===(e=y.current)||void 0===e||e.scrollTo({left:0,behavior:C===f.Safari?void 0:"smooth"})},[C]);let[E]=g(e=>{j(e[0].contentRect.width)});return(0,a.useEffect)(()=>{let e=new ResizeObserver(E),t=null==y?void 0:y.current;return t&&e.observe(t),()=>{t&&e.unobserve(t)}},[E]),(0,a.useEffect)(()=>{let e=null==y?void 0:y.current,t=()=>{var t,n;A(null!==(t=null==e?void 0:e.scrollLeft)&&void 0!==t?t:0),P(null!==(n=null==e?void 0:e.scrollWidth)&&void 0!==n?n:0)};return e&&(t(),e.addEventListener("scroll",t)),()=>{e&&e.removeEventListener("scroll",t)}},[]),(0,r.jsxs)("div",{onMouseEnter:()=>{Z(!0)},onMouseLeave:()=>{Z(!1)},className:b.wrapper,children:[(0,r.jsx)("div",{ref:y,className:x(b.carousel),"data-testid":"carouselTestId",children:d}),(0,r.jsx)("div",{className:b.leftBumper,children:!1===T&&(0,r.jsx)("div",{className:b.bumperWrapper,children:(0,r.jsx)(i.Z,{classes:{root:x(b.iconButton,{[b.hoverIconButton]:k})},onClick:()=>{var e;null===(e=y.current)||void 0===e||e.scrollBy({left:-v*I,behavior:C===f.Safari?void 0:"smooth"})},"aria-label":"previous",size:"large",children:(0,r.jsx)(s.W3K,{fontSize:"small"})})})}),(0,r.jsx)("div",{className:b.rightBumper,children:!1===R&&(0,r.jsx)("div",{className:b.bumperWrapper,children:(0,r.jsx)(i.Z,{classes:{root:x(b.iconButton,{[b.hoverIconButton]:k})},onClick:()=>{var e;null===(e=y.current)||void 0===e||e.scrollBy({left:v*I,behavior:C===f.Safari?void 0:"smooth"})},color:"secondary","aria-label":"next",size:"large",children:(0,r.jsx)(o.N,{fontSize:"small"})})})})]})}},37662:function(e,t,n){n.d(t,{ZP:function(){return p},X$:function(){return v}});var r=n(85893),a=n(54226),i=n(67294),s=n(42715),o=n(65059),l=n(97909);class c extends o.Z{async getCodeSummary(e){return this.assetContentMetadataApi.assetContentMetadataGetCodeSummaries(e)}constructor(e=(0,l.NG)("asset-content-properties-service")){super(e),this.assetContentMetadataApi=new s.f(this.defaultConfiguration),this.getCodeSummary=this.getCodeSummary.bind(this)}}var u=new c;let d=(0,i.createContext)(null);function v(e,t,n){let r=(0,i.useContext)(d);if(null===r)throw Error("useCodeSummary must be used within an AssetContentPropertiesServiceProvider");let{getCodeSummary:s}=r,o=(0,i.useCallback)(async()=>s(e,t,n),[e,t,n,s]),{loading:l,error:c,data:u}=(0,a.Z)(o);return{codeSummary:u,error:c,loading:l}}var p=e=>{let{children:t}=e,[n,a]=(0,i.useState)(new Map),s=(0,i.useRef)(new Map),o=(0,i.useCallback)(async(e,t,r)=>{let i;let o=n.get(e);if(void 0!==o)return o;try{let n=s.current.get(e);n||(n=u.getCodeSummary({assetId:e,nameSpace:t,locale:r}),s.current.set(e,n));let a=await n;i=(null==a?void 0:a.codeSummary)?a.codeSummary:null}catch(e){i=null}return s.current.delete(e),a(t=>t.get(e)===i?new Map(t.set(e,i)):t),i},[n]);return(0,r.jsx)(d.Provider,{value:{getCodeSummary:o},children:t})}},98963:function(e,t,n){var r=n(89268),a=n(53872),i=n(65059),s=n(97909);let o=n(48764).Buffer.from('[{"format":"Original","majorVersion":"Original","fidelity":"Original"}]').toString("base64");class l extends i.Z{async getAssets(e){let{raw:t}=await this.AssetFetchApi.v1AssetsBatchPostRaw({accept:"",assetRequestItems:e.map(e=>({...e,requestId:e.assetId.toString()})),robloxBrowserAssetRequest:"true",robloxPlaceId:0});return await t.json()}async getAssetV2(e){let{raw:t}=await this.AssetFetchV2Api.v2AssetGetRaw({accept:"",acceptEncoding:"",assetFormat:"",assetType:"",contentRepresentationPriorityList:o,id:e,robloxAssetFormat:"",robloxPlaceId:0});return await t.json()}constructor(e=(0,s.Gd)("assetdelivery")){super(e),this.AssetFetchApi=new r.w(this.defaultConfiguration),this.AssetFetchV2Api=new a.N(this.defaultConfiguration),this.getAssets=this.getAssets.bind(this),this.getAssetV2=this.getAssetV2.bind(this)}}t.Z=new l},37286:function(e,t,n){var r=n(85893),a=n(67294),i=n(98963);let s=(0,a.createContext)(null);t.ZP=e=>{let{children:t}=e,[n,o]=(0,a.useState)(new Map),l=(0,a.useCallback)(async e=>{let t=e.filter(e=>!n.has(e)),r=n;if(t.length>0){let e=await i.Z.getAssets(t.map(e=>({assetId:e}))),a=new Map;e.forEach(e=>{if(e.requestId){var t;let n=parseInt(e.requestId,10),i=null!==(t=e.location)&&void 0!==t?t:null;r.get(n)!==i&&a.set(n,i)}}),a.size>0&&o(r=new Map([...n,...a]))}let a=new Map;return e.forEach(e=>{let t=r.get(e);t&&a.set(e,t)}),a},[n]),c=(0,a.useCallback)(async e=>{var t;return null!==(t=(await l([e])).get(e))&&void 0!==t?t:null},[l]);return(0,r.jsx)(s.Provider,{value:{getAudioUrl:c,getAudioUrls:l},children:t})}},90590:function(e,t,n){n.d(t,{A:function(){return d},W:function(){return u}});var r=n(67848),a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return;let r=Object.values(e);if(n){if(r.includes(t))return t}else{let e=t.toUpperCase(),n=r.find(t=>t.toString().toUpperCase()===e);if(n)return n}},i=n(51532),s=n(98963),o=n(48764).Buffer;let l="assetDelivery_",c=o.from('[{"format":"mp3","majorVersion":"1","fidelity":"MED"}]').toString("base64");function u(e){var t,n,a,i,o;let c=!(arguments.length>1)||void 0===arguments[1]||arguments[1],u=arguments.length>2?arguments[2]:void 0;return(0,r.a)({enabled:null===(t=null==u?void 0:u.enabled)||void 0===t||t,queryFn:async()=>{var t,n,r;let a=await s.Z.getAssetV2(e);if(!a||!a.locations||0===a.locations.length)return null;let i=a.locations.filter(e=>"source"===e.assetFormat);return i&&(null===(t=i[0])||void 0===t?void 0:t.location)?i[0].location:null!==(r=null===(n=a.locations[0])||void 0===n?void 0:n.location)&&void 0!==r?r:null},queryKey:["".concat(l,"getPurchaserStatus"),e.toString()],refetchInterval:null!==(n=null==u?void 0:u.refetchInterval)&&void 0!==n&&n,refetchOnWindowFocus:null!==(a=null==u?void 0:u.refetchOnWindowFocus)&&void 0!==a&&a,retry:null!==(i=null==u?void 0:u.retry)&&void 0!==i?i:3,staleTime:c?null!==(o=null==u?void 0:u.staleTime)&&void 0!==o?o:6e5:0})}function d(e,t){var n,o,u,d,v;return(0,r.a)({enabled:null!==(n=null==t?void 0:t.enabled)&&void 0!==n&&n,queryFn:async()=>{var t;let n=(0,i.Ku)()?void 0:c,r=await s.Z.getAssets([{assetId:e,contentRepresentationPriorityList:n}]),o=null==r?void 0:r[0];return{format:a(i.qB,null==o?void 0:null===(t=o.contentRepresentationSpecifier)||void 0===t?void 0:t.format),location:null==r?void 0:r[0].location}},queryKey:["".concat(l,"_getAudioUrl"),e],refetchInterval:null!==(o=null==t?void 0:t.refetchInterval)&&void 0!==o&&o,refetchOnWindowFocus:null!==(u=null==t?void 0:t.refetchOnWindowFocus)&&void 0!==u&&u,retry:null!==(d=null==t?void 0:t.retry)&&void 0!==d?d:3,staleTime:null!==(v=null==t?void 0:t.staleTime)&&void 0!==v?v:6e5})}},86510:function(e,t,n){n.d(t,{ZP:function(){return g},l9:function(){return f}});var r=n(85893),a=n(54226),i=n(67294),s=n(88643),o=n(6832),l=n(45370),c=n(18569),u=n(4448),d=n(65059),v=n(97909);class p extends d.Z{async hasEditPermission(e,t){var n,r,a,i,s;let u=await this.assetPermissionsApi.assetPermissionsBatchCheckAssetPermissions({assetPermissionsBatchCheckAssetPermissionsRequest:{requests:[{subject:{subjectType:o.EW.User,subjectId:e.toString()},action:l.T.Edit,assetId:t}]}}),d=null===(r=u.results)||void 0===r?void 0:null===(n=r[0])||void 0===n?void 0:n.error;if(d)throw d;return(null===(s=u.results)||void 0===s?void 0:null===(i=s[0])||void 0===i?void 0:null===(a=i.value)||void 0===a?void 0:a.status)===c.vH.HasPermission}constructor(e=(0,v.NG)("asset-permissions-api")){super(e),this.assetPermissionsApi=new u.V(this.defaultConfiguration)}}var h=new p;let m=(0,i.createContext)(null);function f(e){let t=(0,i.useContext)(m);if(null===t)throw Error("useHasEditPermission must be used within a AssetPermissionsProvider");let{getHasEditPermission:n}=t,r=(0,i.useCallback)(async()=>n(e),[e,n]),{data:s,loading:o,error:l}=(0,a.Z)(r);return{hasEditPermission:s,loading:o,error:l}}var g=e=>{let{children:t}=e,{user:n}=(0,s.je)(),a=(0,i.useRef)(new Map),[o,l]=(0,i.useState)(new Map),c=(0,i.useCallback)(async e=>{let t=o.get(e);if(void 0!==t)return t;let r=!1;try{if(null==n?void 0:n.id){let t=a.current.get(e);t||(t=h.hasEditPermission(n.id,e),a.current.set(e,t)),r=await t}}catch(e){r=!1}return a.current.delete(e),l(t=>t.get(e)===r?new Map(t.set(e,r)):t),r},[null==n?void 0:n.id,o]);return(0,r.jsx)(m.Provider,{value:{getHasEditPermission:c},children:t})}},7308:function(e,t,n){n.d(t,{xU:function(){return w},ZP:function(){return A},IV:function(){return y},y7:function(){return S},qP:function(){return j},R2:function(){return k},b2:function(){return C},E4:function(){return I},zT:function(){return x},cn:function(){return Z}});var r=n(85893),a=n(67294),i=n(82923),s=n(57756),o=n(77099),l=n(572),c=n(54226),u=n(59031),d=n(88643),v=n(32489),p=n(31369),h=n(65059),m=n(97909);class f extends h.Z{async getUserIsCreator(e){return this.assetReviewsApi.assetReviewsGetUserIsCreator(e)}async getCommentsCount(e){return this.assetReviewsApi.assetReviewsGetCommentsCount(e)}async createComment(e){return this.assetReviewsApi.assetReviewsCreateComment(e)}async deleteComment(e){return this.assetReviewsApi.assetReviewsDeleteCommentRaw(e)}async listComments(e){return this.assetReviewsApi.assetReviewsListComments(e)}async getUserComment(e){return this.assetReviewsApi.assetReviewsGetUserComment(e)}async createCommentReport(e){return this.assetReviewsApi.assetReviewsCreateCommentReportRaw(e)}async createCommentReaction(e){return this.assetReviewsApi.assetReviewsCreateCommentReactionRaw(e)}constructor(e=(0,m.NG)("asset-reviews-api")){super(e),this.assetReviewsApi=new p._(this.defaultConfiguration)}}var g=new f;let w=500,b=(0,a.createContext)(null);function x(e,t){let n=(0,a.useContext)(b);if(null===n)throw Error("useGetUserIsCreator must be used within an AssetReviewsProvider");let{getUserIsCreator:r}=n,i=(0,a.useCallback)(async()=>r(e,t),[r,e,t]),{loading:s,error:o,data:l}=(0,c.Z)(i);return{userIsCreator:l,userIsCreatorError:o,userIsCreatorLoading:s}}function C(e){let t=(0,a.useContext)(b);if(null===t)throw Error("useAssetReviewsCount must be used within an AssetReviewsProvider");let{getCommentsCount:n}=t,r=(0,a.useCallback)(async()=>n(e),[e,n]),{loading:i,error:s,data:o}=(0,c.Z)(r);return{reviewsCount:void 0!==o?o:0,reviewsCountError:s,reviewsCountLoading:i}}function y(){let e=(0,a.useContext)(b);if(null===e)throw Error("useCreateAssetReview must be used within an AssetReviewsProvider");let{postCreateComment:t}=e,[n,r]=(0,a.useState)(!1),[i,s]=(0,a.useState)(!1);return{createReview:(0,a.useCallback)(async(e,n,a)=>{r(!0),s(!1);try{let i=await t(e,n,a);return s(null===i||null!==i.error),r(!1),i}catch(e){return s(!0),r(!1),null}},[t]),error:i,loading:n}}function k(){let e=(0,a.useContext)(b);if(null===e)throw Error("useDeleteAssetReview must be used within an AssetReviewsProvider");let{deleteComment:t}=e,[n,r]=(0,a.useState)(!1),[i,s]=(0,a.useState)(!1);return{deleteReview:(0,a.useCallback)(async e=>{r(!0),s(!1);try{let n=await t(e);return s(!n),r(!1),n}catch(e){return s(!0),r(!1),!1}},[t]),deleteReviewError:i,deleteReviewLoading:n}}function Z(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],r=!(arguments.length>3)||void 0===arguments[3]||arguments[3],i=(0,a.useContext)(b);if(null===i)throw Error("useListAssetReviews must be used within an AssetReviewsProvider");let{getListComments:s}=i,[o,l]=(0,a.useState)(!1),[c,u]=(0,a.useState)(!1);return{getNextReviewsPage:(0,a.useCallback)(async function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;l(!0),u(!1);try{let o=await s(t,n,i,a,r,e);return u(!1),l(!1),o}catch(e){return u(!0),l(!1),null}},[t,s,n,e,r]),reviewsListError:c,reviewsListLoading:o}}function I(e){let t=(0,a.useContext)(b),{user:n}=(0,d.je)();if(null===t)throw Error("useGetUserAssetReview must be used within an AssetReviewsProvider");let{getUserComment:r}=t,i=(0,a.useCallback)(async()=>(null==n?void 0:n.id)!==void 0?r(e):null,[n,r,e]),{loading:s,error:o,data:l}=(0,c.Z)(i);return{userReview:null!=l?l:null,userReviewError:o,userReviewLoading:s}}function j(){let e=(0,a.useContext)(b);if(null===e)throw Error("useCreateAssetReviewReport must be used within an AssetReviewsProvider");let{postCreateCommentReport:t}=e,[n,r]=(0,a.useState)(!1),[i,s]=(0,a.useState)(!1);return{createReportError:i,createReportLoading:n,createReviewReport:(0,a.useCallback)(async(e,n,a)=>{r(!0),s(!1);try{let i=await t(e,n,a);return s(!1===i),r(!1),i}catch(e){return s(!0),r(!1),!1}},[t])}}function S(){let e=(0,a.useContext)(b);if(null===e)throw Error("useCreateAssetReviewReaction must be used within an AssetReviewsProvider");let{postCreateCommentReaction:t}=e,[n,r]=(0,a.useState)(!1),[i,s]=(0,a.useState)(!1);return{createReactionError:i,createReactionLoading:n,createReviewReaction:(0,a.useCallback)(async(e,n)=>{r(!0),s(!1);try{let a=await t(e,n);return s(!1===a),r(!1),a}catch(e){return s(!0),r(!1),!1}},[t])}}var A=e=>{let{children:t}=e,{user:n}=(0,d.je)(),[c,p]=(0,a.useState)(new Map),h=(0,a.useRef)(null),[m,f]=(0,a.useState)(new Map),w=(0,a.useRef)(null),[x,C]=(0,a.useState)(null),y=(0,a.useRef)(null),[k,Z]=(0,a.useState)(null),I=(0,a.useRef)(null),j=(0,a.useCallback)(e=>e===u.WC.OK,[]),S=(0,a.useCallback)(e=>e===u.WC.CREATED,[]),A=(0,a.useCallback)(async(e,t)=>{var r;if(e<=0)return console.error("Failed to get if user is creator due to invalid assetId: ".concat(e)),!1;if((0,v.Z)(t))return!1;if(void 0!==c.get(e))return c.get(e)||!1;(null===(r=h.current)||void 0===r?void 0:r.assetId)!==e&&(h.current={assetId:e,request:g.getUserIsCreator({assetId:e})});try{let t=await h.current.request;if("boolean"!=typeof t)throw Error("userIsCreatorResponse expected to be a boolean but was ".concat(typeof t," ").concat(t));return p(n=>new Map(n.set(e,t))),h.current=null,t}catch(t){return console.error("Failed to get is user creator for assetId: ".concat(e," and userId: ").concat(null==n?void 0:n.id," due to error: ").concat(t)),h.current=null,!1}},[null==n?void 0:n.id,c]),N=(0,a.useCallback)(async e=>{var t,n;if(e<=0)return console.error("Failed to get comments count due to invalid assetId: ".concat(e)),0;if(void 0!==m.get(e))return null!==(n=m.get(e))&&void 0!==n?n:0;(null===(t=w.current)||void 0===t?void 0:t.assetId)!==e&&(w.current={assetId:e,request:g.getCommentsCount({assetId:e})});try{let t=await w.current.request,n=Number(t);return f(t=>new Map(t.set(e,n))),w.current=null,n}catch(t){return console.error("Failed to get comments count for assetId: ".concat(e," due to error: ").concat(t)),w.current=null,0}},[m]),P=(0,a.useCallback)(async(e,t,n)=>{let r=t.trim();if(e<=0||0===r.length)return console.error("Failed to create comments for assetId: ".concat(e," and text: ").concat(r," due to invalid parameters")),null;try{let t=await g.createComment({assetId:e,assetReviewsCreateCommentRequest:{parentId:n,text:r}});if(null===t)return(0,i.OG)({});return t}catch(d){var a,o;let t=await (null===(a=(0,l.Z)(d))||void 0===a?void 0:a.json()),c=(0,i.OG)(t),u=null===(o=c.error)||void 0===o?void 0:o.errorType;if(console.error("Failed to create comment for assetId: ".concat(e," and parentId: ").concat(n," with text: ").concat(r," due to error: ").concat(u)),u===s.ju.InappropriateContent)return c;return null}},[]),T=(0,a.useCallback)(async e=>{try{return(await g.deleteComment({commentId:e})).raw.status===u.WC.NO_CONTENT}catch(i){var t;let n=await (null===(t=(0,l.Z)(i))||void 0===t?void 0:t.json()),r=(0,o.dv)(n),a=null==r?void 0:r.errorType;return console.error("Failed to delete comment: ".concat(e," due to error: ").concat(a)),!1}},[]),R=(0,a.useCallback)(async(e,t,n,r,a,i)=>{var s;if(e<=0)return console.error("Failed to list comments due to invalid assetId: ".concat(e)),null;if(void 0===r&&(null==x?void 0:x.assetId)===e&&x.isForFullPage===i&&x.commentsListResponse)return x.commentsListResponse;((null===(s=y.current)||void 0===s?void 0:s.assetId)!==e||y.current.cursor!==r)&&(y.current={assetId:e,cursor:r,request:g.listComments({assetId:e,cursor:r,hideAuthenticatedUserComment:t,limit:n,sortByHelpfulCount:a})});try{let t=await y.current.request;return void 0===r&&C({assetId:e,commentsListResponse:t,isForFullPage:i}),y.current=null,t}catch(t){return console.error("Failed to list comments for assetId: ".concat(e," due to error: ").concat(t)),y.current=null,null}},[x]),E=(0,a.useCallback)(async e=>{var t;if(e<=0)return console.error("Failed to get user's comment due to invalid assetId: ".concat(e)),null;if((null==k?void 0:k.assetId)===e&&null!==k.userCommentResponse)return k.userCommentResponse;(null===(t=I.current)||void 0===t?void 0:t.assetId)!==e&&(I.current={assetId:e,request:g.getUserComment({assetId:e})});try{let t=await I.current.request;return Z({assetId:e,userCommentResponse:t}),I.current=null,t}catch(e){return I.current=null,null}},[k]),L=(0,a.useCallback)(async(e,t,n)=>{try{let r=(await g.createCommentReport({assetReviewsCreateCommentReportRequest:{category:t,description:n},commentId:e})).raw.status;return S(r)||j(r)}catch(t){return console.error("Failed to create comment report for commentId: ".concat(e," due to error: ").concat(t)),!1}},[j,S]),M=(0,a.useCallback)(async(e,t)=>{try{let n=(await g.createCommentReaction({assetReviewsCreateCommentReactionRequest:{reaction:t},commentId:e})).raw.status;return S(n)||j(n)}catch(t){return console.error("Failed to create comment reaction for commentId: ".concat(e," due to error: ").concat(t)),!1}},[j,S]),B=(0,a.useMemo)(()=>({deleteComment:T,getCommentsCount:N,getListComments:R,getUserComment:E,getUserIsCreator:A,postCreateComment:P,postCreateCommentReaction:M,postCreateCommentReport:L}),[T,N,R,E,A,P,M,L]);return(0,r.jsx)(b.Provider,{value:B,children:t})}},12373:function(e,t,n){n.d(t,{vh:function(){return c}});var r,a,i,s=n(50994),o=n(65059),l=n(97909);(r=a||(a={})).ASSET_ID="assetId",r.ASSET_TYPE="assetType",r.CREATION_CONTEXT="creationContext",r.DESCRIPTION="description",r.DISPLAY_NAME="displayName",r.MODERATION_RESULT="moderationResult",r.ICON="icon",r.PREVIEWS="previews",r.REVISION_CREATE_TIME="revisionCreateTime",r.STATE="State",(i||(i={})).REVISION_ID="revisionId";let c=Object.values(a);Object.values(i);class u extends o.Z{async getAsset(e,t){return await this.assetApi.assetsGetAsset({assetId:e,readMask:t})}constructor(e=(0,l.NG)("assets/user-auth")){super(e),this.assetApi=new s.N(this.defaultConfiguration),this.getAsset=this.getAsset.bind(this)}}t.ZP=new u},23888:function(e,t,n){n.d(t,{Pm:function(){return h}});var r=n(85893),a=n(67294),i=n(83181),s=n(70898),o=n(63411),l=n(54226),c=n(74279),u=n(434),d=n(12373),v=n(9591);let p=(0,a.createContext)(null);function h(e,t,n){let r=(0,a.useContext)(p);if(null===r)throw Error("useGetOpenCloudAssetDetailsDeprecated must be used within an AssetsOpenCloudProvider");let{getOpenCloudAssetDetails:i}=r,s=(0,a.useCallback)(async()=>(null==n?void 0:n.enabled)===!1?null:i(e,t),[null==n?void 0:n.enabled,i,e,t]);return(0,l.Z)(s)}t.ZP=e=>{let{children:t}=e,{setMessageAndSeverity:n}=(0,u.Ds)(),{translate:l}=(0,c.$G)(),h=(0,a.useCallback)(async(e,t)=>{var r,a,c;let u=await d.ZP.getAsset(e,t);u.state===v.sO.Archived?n({severity:"error",translatedMessage:l("Error.AssetArchived")}):(null===(r=u.moderationResult)||void 0===r?void 0:r.moderationState)===v.e7.Rejected&&n({severity:"error",translatedMessage:l("Error.AssetModerated")});let{userId:p,groupId:h}=null!==(c=null==u?void 0:null===(a=u.creationContext)||void 0===a?void 0:a.creator)&&void 0!==c?c:{},m=p?o.xq.User:o.xq.Group;if(!p&&!h)throw Error("No creator found for asset");if(!v.IP.get(null==u?void 0:u.assetType))throw Error("Asset type of ".concat(null==u?void 0:u.assetType," is not supported for Store's Open Cloud"));let f="";if(m===o.xq.User){let{name:e}=await s.Z.getUserById(p);f=null!=e?e:""}else{let{name:e}=await i.Z.getGroupById(h);f=null!=e?e:""}return{asset:{description:null==u?void 0:u.description,id:null==u?void 0:u.assetId,name:null==u?void 0:u.displayName,typeId:v.IP.get(null==u?void 0:u.assetType),updatedUtc:null==u?void 0:u.revisionCreateTime},creator:{id:m===o.xq.User?p:h,name:f,type:m},voting:null}},[n,l]);return(0,r.jsx)(p.Provider,{value:{getOpenCloudAssetDetails:h},children:t})}},9591:function(e,t,n){var r,a,i,s;n.d(t,{IP:function(){return l},QK:function(){return c},e7:function(){return r},ok:function(){return o},sO:function(){return a}});let o=12e4,l=new Map([["Image",1],["Mesh",4],["Animation",24],["SolidModel",39]]),c=Array.from(l.values());(i=r||(r={})).Rejected="Rejected",i.Pending="Pending",i.Approved="Approved",(s=a||(a={})).Unspecified="Unspecified",s.Active="Active",s.Archived="Archived"},73461:function(e,t,n){n.d(t,{ZP:function(){return m},AM:function(){return h}});var r=n(85893),a=n(67294),i=n(65059),s=n(19167),o=n(76280),l=n(97909),c=n(88080);let u=(e,t)=>"".concat(s.f7.CreatorMarketplaceAsset,"-").concat(t,"-").concat(e);class d extends i.Z{async getProduct(e,t){return this.authenticatedCloudApi.creatorStoreProductGet({fiatProductKey:u(e,t)})}constructor(e=(0,l.NG)("user/cloud")){super(e),this.authenticatedCloudApi=new o.i(this.defaultConfiguration).withPostMiddleware(c.Z)}}var v=new d;let p=(0,a.createContext)(null);function h(){let e=(0,a.useContext)(p);if(null===e)throw Error("useCreatorStoreProductOpenCloudProvider must be used within a CreatorStoreProductOpenCloudProviderContext");return e}var m=e=>{let{children:t}=e,n=(0,a.useCallback)(async(e,t)=>v.getProduct(e,t),[]);return(0,r.jsx)(p.Provider,{value:{getProduct:n},children:t})}},63507:function(e,t,n){n.d(t,{ZP:function(){return v},lO:function(){return d}});var r=n(85893),a=n(67294),i=n(1789),s=n(65059),o=n(97909);class l extends s.Z{getUniverseById(e){return this.universesApi.v1UniversesUniverseIdGet(e)}constructor(e=(0,o.Gd)("develop")){super(e),this.universesApi=new i.fv(this.defaultConfiguration),this.getUniverseById=this.getUniverseById.bind(this)}}var c=new l;let u=(0,a.createContext)(null);function d(){let e=(0,a.useContext)(u);if(null===e)throw Error("useDevelopProvider must be used within a DevelopProviderContext");return e}var v=e=>{let{children:t}=e,n=(0,a.useCallback)(async e=>await c.getUniverseById({universeId:e}),[]),i=(0,a.useMemo)(()=>({getUniverseById:n}),[n]);return(0,r.jsx)(u.Provider,{value:i,children:t})}},30875:function(e,t,n){n.d(t,{ZP:function(){return h},cq:function(){return g},rh:function(){return w},m6:function(){return m},hg:function(){return f}});var r=n(85893),a=n(54226),i=n(97156),s=n(67294),o=n(88643),l=n(30097),c=n(65059),u=n(97909);class d extends c.Z{async getIsItemOwned(e){let{raw:t}=await this.inventoryApi.v1UsersUserIdItemsItemTypeItemTargetIdIsOwnedGetRaw(e);return t.json()}async deleteInventoryAsset(e){let{raw:t}=await this.inventoryV2Api.v2InventoryAssetAssetIdDeleteRaw({assetId:e});return t.status}constructor(e=(0,u.Gd)("inventory")){super(e),this.inventoryApi=new i.ov(this.defaultConfiguration),this.inventoryV2Api=new l.v.InventoryV2Api(this.defaultConfiguration),this.getIsItemOwned=this.getIsItemOwned.bind(this),this.deleteInventoryAsset=this.deleteInventoryAsset.bind(this)}}var v=new d;let p=(0,s.createContext)(null);var h=e=>{let{children:t}=e,n=(0,s.useRef)(new Map),[a,l]=(0,s.useState)(new Map),{user:c}=(0,o.je)(),u=(0,s.useCallback)((e,t)=>{l(n=>{if(n.get(e)!==t){let r=new Map(n);return r.set(e,t),r}return n})},[]),d=(0,s.useCallback)(async(e,t)=>{let r;let s=a.get(e);if(!t&&void 0!==s)return s;if((null==c?void 0:c.id)===void 0)r=!1;else{let t=n.current.get(e);t||(t=v.getIsItemOwned({itemTargetId:e,itemType:i.Ms.NUMBER_0,userId:c.id}),n.current.set(e,t)),r=await t}return n.current.delete(e),s!==r&&u(e,r),r},[null==c?void 0:c.id,a,u]),h=(0,s.useCallback)(async e=>{try{let t=await v.deleteInventoryAsset(e);if(t&&200===t)return u(e,!1),!0}catch(e){}return!1},[u]);return(0,r.jsx)(p.Provider,{value:{deleteFromInventory:h,getIsItemOwned:d,updateIsItemOwned:u},children:t})};function m(e){let t=(0,s.useContext)(p);if(null===t)throw Error("useIsItemOwned must be used within a InventoryProvider");let{getIsItemOwned:n}=t,r=(0,s.useCallback)(()=>n(e,!1),[e,n]),{loading:i,error:o,data:l}=(0,a.Z)(r);return{loading:i,error:o,isOwned:l}}function f(){let e=(0,s.useContext)(p);if(null===e)throw Error("useUpdateItemOwned must be used within a InventoryProvider");return e.updateIsItemOwned}function g(){let e=(0,s.useContext)(p);if(null===e)throw Error("useDeleteFromInventory must be used within a InventoryProvider");return e.deleteFromInventory}function w(){let e=(0,s.useContext)(p);if(null===e)throw Error("useInventoryProvider must be used within a useInventoryProvider");return e}},72033:function(e,t,n){var r=n(65059),a=n(19167),i=n(13298),s=n(71703),o=n(17625),l=n(97909),c=n(88080);class u extends r.Z{purchaseAsset(e,t,n){return this.authenticatedProductApi.v1ProductPurchasePost({robloxMarketplaceFiatMarketplaceFiatProductServiceV1Beta1PurchaseFiatProductRequest:{expectedPrice:n,productKey:{productNamespace:a.f7.CreatorMarketplaceAsset,productTargetId:e.toString(),productType:t}}})}getFiatPrices(e){return this.priceApi.v1PricesProductNamespaceProductTypeGet({productNamespace:a.f7.CreatorMarketplaceAsset,productType:e})}getPurchaserStatus(){return this.accountApi.v1PurchaserStatusGet()}constructor(e=(0,l.NG)("marketplace-fiat-service")){super(e),this.accountApi=new i.b(this.defaultConfiguration),this.priceApi=new s.c(this.defaultConfiguration),this.authenticatedProductApi=new o.y(this.defaultConfiguration).withPostMiddleware(c.Z)}}t.Z=new u},78340:function(e,t,n){n.d(t,{dc:function(){return g},m_:function(){return f},pH:function(){return h},px:function(){return m}});var r=n(85893),a=n(67294),i=n(15168),s=n(434),o=n(74279),l=n(31634),c=n(39853),u=n(23887),d=n(72033),v=n(30875);let p=(0,a.createContext)(null);function h(e){let t=(0,a.useContext)(p);if(null===t)throw Error("usePurchaseAsset must be used within a MarketplaceFiatProvider");let{postPurchaseAsset:n}=t,{sendEvent:r}=(0,c.Z)(),[s,o]=(0,a.useState)(!1),[l,d]=(0,a.useState)(!1),[v,h]=(0,a.useState)(null);return{error:l,loading:s,purchaseAsset:(0,a.useCallback)(async(t,a,s,l,c)=>{let v;o(!0),d(!1),h(null);try{var p,m,f,g,w;v=await n(t,a,s,l,c);let{exponent:o,significand:b}=null!==(f=null===(p=v.actualPrice)||void 0===p?void 0:p.quantity)&&void 0!==f?f:{};r(u.B_.AssetPurchaseInitiated,{currencyCode:null!==(g=null===(m=v.actualPrice)||void 0===m?void 0:m.currencyCode)&&void 0!==g?g:"",price:void 0===o||void 0===b?0:b*10**o,transactionStatus:null!==(w=v.purchaseTransactionStatus)&&void 0!==w?w:i.n5.Invalid,...e}),d(!1),v.purchaseTransactionStatus!==i.n5.Success||v.checkoutUrl||(h(!0),r(u.B_.AssetAcquired,e))}catch(e){d(!0),h(!1)}return o(!1),v},[e,n,r]),success:v}}function m(){let e=(0,a.useContext)(p);if(null===e)throw Error("useHasExceededSpendingLimit must be used within a MarketplaceFiatProvider");let{exceededSpendingLimit:t}=e;return t}function f(){let e=(0,a.useContext)(p);if(null===e)throw Error("useAreFiatPurchasesAllowed must be used within a MarketplaceFiatProvider");let{fiatPurchasesAllowed:t}=e;return t}function g(e){let t=(0,a.useContext)(p);if(null===t)throw Error("useExcessiveTranscations must be used within a MarketplaceFiatProvider");if(!e)return!1;let{excessiveTransactionUserIds:n}=t;return n.has(e)}t.ZP=e=>{let{children:t}=e,n=(0,v.hg)(),[c,u]=(0,a.useState)(new Set),[h,m]=(0,a.useState)(!1),[f,g]=(0,a.useState)(!0),{setMessageAndSeverity:w}=(0,s.Ds)(),{translate:b}=(0,o.$G)(),{updateAssetPrice:x}=(0,l.j0)(),C=(0,a.useCallback)(async(e,t,r,a,s)=>{let o=await d.Z.purchaseAsset(e,t,r);return o.purchaseTransactionStatus===i.n5.AlreadyOwned||o.purchaseTransactionStatus===i.n5.Success?o.checkoutUrl||(n(e,!0),w({severity:"success",translatedMessage:b("Message.ItemHasBeenAddedtoInventory")})):o.purchaseTransactionStatus===i.n5.NotAllowed?(g(!1),w({severity:"error",translatedMessage:b("Message.PurchasesNotAllowed"),translatedTitle:b("Title.PurchaseCannotBeCompleted")})):o.purchaseTransactionStatus===i.n5.ExcessiveTransactionsLimit?(u(e=>new Set([...e,a])),w({severity:"error",translatedMessage:b("Message.ExcessiveTransactionsReached"),translatedTitle:b("Title.PurchaseCannotBeCompleted")})):o.purchaseTransactionStatus===i.n5.ExceededSpendingLimit?(m(!0),w({severity:"error",translatedMessage:b("Message.ExceededSpendingLimit"),translatedTitle:b("Title.PurchaseCannotBeCompleted")})):o.purchaseTransactionStatus===i.n5.PriceChanged&&o.actualPrice?(x(e,o.actualPrice,!0),w({severity:"info",translatedMessage:b("Message.PriceChanged",{creatorName:s}),translatedTitle:b("Title.PriceChanged")})):o.purchaseTransactionStatus===i.n5.NotPurchasable?(x(e,null,!1),w({severity:"info",translatedMessage:b("Message.NoLongerForSale",{creatorName:s}),translatedTitle:b("Title.PurchaseCannotBeCompleted")})):o.purchaseTransactionStatus===i.n5.TemporarilyRestricted?w({severity:"error",translatedMessage:b("Message.PurchaseTemporarilyRestricted")}):w({severity:"error",translatedMessage:b("Message.PurchaseCannotBeCompleted")}),o},[w,b,x,n]);return(0,r.jsx)(p.Provider,{value:{exceededSpendingLimit:h,excessiveTransactionUserIds:c,fiatPurchasesAllowed:f,postPurchaseAsset:C},children:t})}},59995:function(e,t,n){n.d(t,{A8:function(){return l},Fz:function(){return c},KO:function(){return u}});var r=n(67848),a=n(92944),i=n(72033),s=n(9591);let o="marketplaceFiatService_";function l(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return(0,r.a)({enabled:e,queryFn:async()=>await i.Z.getPurchaserStatus(),queryKey:["".concat(o,"getPurchaserStatus")],staleTime:s.ok})}function c(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return(0,r.a)({enabled:t,queryFn:async()=>(await i.Z.getFiatPrices(e)).basePrices,queryKey:["".concat(o,"getFiatPrices"),e],staleTime:s.ok})}function u(e,t,n,i,l){let c=!(arguments.length>5)||void 0===arguments[5]||arguments[5];return(0,r.a)({enabled:c,queryFn:async()=>i?n?await l(e,(0,a.Z)(t)):i:null,queryKey:["".concat(o,"getFiatProduct"),e,t,n,i,l],staleTime:s.ok})}},98857:function(e,t,n){n.d(t,{Z:function(){return I}});var r=n(85893),a=n(67294),i=n(34420),s=n(2948),o=n(41664),l=n.n(o),c=n(59252),u=n(99054),d=n(74279),v=n(63411),p=n(11049),h=n(3508),m=n(52155),f=n(93019),g=n(11207),w=n(39853),b=n(23887),x=n(88643),C=n(63545),y=n(97909);let k=(0,n(26170).Z)()(()=>({menu:{padding:0},menuItemfocusVisible:{"&:focus-visible":{backgroundColor:"transparent"}}}));var Z=e=>{var t,n;let{anchorPosition:i,asset:s,creator:o,menuSource:Z,handleClose:I}=e,j=null!==(t=null==s?void 0:s.id)&&void 0!==t?t:0,S=null==s?void 0:s.typeId,A=null==s?void 0:s.meshId,N=null==s?void 0:s.textureId,{translate:P}=(0,d.$G)(),{classes:T}=k(),{user:R,login:E}=(0,x.je)(),{sendEvent:L}=(0,w.Z)(),{currentUrlWithBasePath:M}=(0,C.bX)(),B="".concat((0,y.KA)(),"/store").concat((0,p.Z)(j,null!==(n=null==s?void 0:s.name)&&void 0!==n?n:"")),V=(0,h.Z)(j,M),F=(0,a.useRef)(V),W=(0,m.Z)({targetId:j.toString()});(0,a.useEffect)(()=>{(async()=>{let{EnableCreatorHubMarketplace:e}=await (0,f.Z)();e&&(F.current=W)})()},[W,j,null==R?void 0:R.id]);let O=(null==o?void 0:o.id)===g.FQ&&(null==o?void 0:o.type)===v.xq.User,D=(0,a.useCallback)(e=>{L(b.B_.AssetMenuItemClicked,{assetId:j,assetTypeId:S,menuItem:e,menuSource:Z})},[j,S,Z,L]),U=(0,a.useCallback)(()=>{navigator.clipboard.writeText(B),D(b.gR.CopyLink),I()},[B,I,D]),H=(0,a.useCallback)(e=>{navigator.clipboard.writeText(e.toString()),I()},[I]);if(!s)return null;let z={left:48,top:0},q=i?{left:i.left+z.left,top:i.top+z.top}:void 0;return(0,r.jsxs)(c.Z,{anchorReference:"anchorPosition","data-testid":"contextualMenu",variant:"menu",anchorPosition:q,onClose:I,open:!!i,classes:{paper:T.menu},children:[(0,r.jsx)(u.Z,{focusVisibleClassName:T.menuItemfocusVisible,onClick:U,children:P("Label.CopyAssetLink")}),(0,r.jsx)(u.Z,{focusVisibleClassName:T.menuItemfocusVisible,onClick:()=>{H(j),D(b.gR.CopyAssetId)},children:P("Label.CopyAssetId")}),A&&(0,r.jsx)(u.Z,{focusVisibleClassName:T.menuItemfocusVisible,onClick:()=>{H(A),D(b.gR.CopyMeshId)},children:P("Label.CopyMeshId")}),N&&(0,r.jsx)(u.Z,{focusVisibleClassName:T.menuItemfocusVisible,onClick:()=>{H(N),D(b.gR.CopyTextureId)},children:P("Label.CopyTextureId")}),!O&&(R?(0,r.jsx)(l(),{href:F.current,onClick:()=>D(b.gR.Report),passHref:!0,children:(0,r.jsx)(u.Z,{focusVisibleClassName:T.menuItemfocusVisible,children:P("Label.ReportItem")})}):(0,r.jsx)(u.Z,{focusVisibleClassName:T.menuItemfocusVisible,onClick:()=>{E()},children:P("Label.ReportItem")}))]})},I=e=>{let{children:t,asset:n,creator:o,menuSource:l}=e,{frontendFlags:c}=(0,i.YV)(),u=c[s.Wu.FrontendFlagEnableContextualMenu],d=(0,a.useRef)(null),[v,p]=(0,a.useState)(null),h=(0,a.useCallback)(e=>d.current&&d.current.contains(e.target),[]),m=(0,a.useCallback)(e=>{e.preventDefault(),h(e)?p({left:e.clientX,top:e.clientY}):p(null)},[h]),f=(0,a.useCallback)(()=>{p(null)},[]);return u?(0,r.jsxs)("div",{"data-testid":"contextualMenuWrapper".concat(n.id),onContextMenu:u?m:void 0,ref:d,style:{display:"contents"},children:[t,(0,r.jsx)(Z,{anchorPosition:v,asset:n,creator:o,menuSource:l,handleClose:f})]}):(0,r.jsx)(a.Fragment,{children:t})}},18218:function(e,t,n){n.d(t,{Z:function(){return I}});var r=n(85893),a=n(67294),i=n(74279),s=n(44579),o=n(61555),l=n(8537),c=n(41664),u=n.n(c),d=n(59031),v=n(23887),p=n(20415),h=n(3508),m=n(88643),f=n(39853),g=n(26170),w=n(57417);let b="".concat("/store/98c7cb0bd3335208ee38bcb142f56c627fe5ca24/assets","/common"),x="".concat(b,"/error.png"),C={descriptionKey:"Description.UnknownError",headingKey:"Heading.UnknownError",imagePath:x},y={[d.WC.NOT_FOUND]:{descriptionKey:"Description.PageNotFound",headingKey:"Heading.PageNotFound",imagePath:x},[d.WC.FORBIDDEN]:{descriptionKey:"Description.AccessDenied",headingKey:"Heading.AccessDenied",imagePath:"".concat(b,"/unauthorized.png")}},k={width:"100%",height:"100%"},Z=(0,g.Z)()(e=>({root:{...k},background:{alignItems:"center"},errorArea:{alignItems:"center",display:"flex",flexDirection:"column",padding:"6px 16px 32px"},errorImage:{...k,maxWidth:376,maxHeight:376,[e.breakpoints.down(w.wt)]:{width:240}},textHeader:{maxWidth:"492px",paddingBottom:8},imageArea:{padding:16}}));var I=e=>{let{assetId:t,errorCode:n}=e,{translate:c}=(0,i.$G)(),{user:g,login:w}=(0,m.je)(),{sendEvent:b}=(0,f.Z)(),{classes:{root:x,background:k,errorArea:I,errorImage:j,textHeader:S,imageArea:A}}=Z(),{headingKey:N,descriptionKey:P,imagePath:T}=y[n]||C,R=(0,a.useCallback)(()=>{t&&b(v.B_.ErrorPageReportAssetClicked,{assetId:t})},[t,b]);return(0,r.jsxs)(s.Z,{className:x,alignItems:"center",justifyContent:"center","data-testid":"errorPage",container:!0,children:[(0,r.jsx)(p.Z,{}),(0,r.jsxs)(s.Z,{container:!0,item:!0,className:k,direction:"column",justifyContent:"center",alignItems:"flex-start",children:[(0,r.jsx)(s.Z,{item:!0,className:A,children:(0,r.jsx)("img",{className:j,src:T,alt:"error"})}),(0,r.jsxs)(s.Z,{item:!0,className:I,children:[(0,r.jsx)(o.Z,{align:"center",color:"primary",component:"h4",variant:"h4",className:S,children:c(N)}),(0,r.jsx)(o.Z,{align:"center",className:S,color:"secondary",component:"p",variant:"body2",children:c(P)}),t&&n!==d.WC.NOT_FOUND&&(g?(0,r.jsx)(l.Z,{children:(0,r.jsx)(u(),{href:(0,h.Z)(t),onClick:R,passHref:!0,children:c("Label.ReportItem")})}):(0,r.jsx)(l.Z,{onClick:()=>{w()},children:c("Label.ReportItem")}))]})]})]})}},42583:function(e,t,n){n.d(t,{ZP:function(){return V}});var r=n(85893),a=n(67294),i=n(74279),s=n(39977),o=n(8537),l=n(53316),c=n(31634),u=n(10476),d=n(89306),v=n(92944),p=n(33179),h=n(19118),m=n(44579),f=n(88049),g=n(76172),w=n(61555),b=n(80137),x=n(76603),C=n(26170);let y=(0,C.Z)()(e=>({creatorStoreButtons:{gap:12,padding:"24px 0"},creatorStoreDialogBody:{padding:"0 24px"},creatorStoreDialogTitle:{display:"flex",justifyContent:"center"},dialog:{alignItems:"center",display:"flex",justifyContent:"flex-start",minHeight:284},dialogBody:{maxWidth:"calc(100% - ".concat(144,"px)"),width:"auto"},fiatProduct:{display:"flex",padding:"24px 0"},thumbnail:{backgroundColor:e.palette.media.secondaryBackground,borderRadius:8},thumbnailContainer:{height:0,marginRight:24,maxWidth:120,paddingTop:120}}));var k=e=>{let{assetId:t,assetName:n,creator:a,fiatProductPrice:s,isDialogOpen:l,isPurchaseButtonLoading:c,setIsDialogOpen:u,purchaseAsset:d}=e,{translate:v}=(0,i.$G)(),{locale:C}=(0,i.ql)(),{classes:k}=y(),Z=null==s?void 0:s.currencyCode,I=null==s?void 0:s.quantity,j=null!=Z&&null!=I?v("Action.BuyAssetFor",{price:(0,p.Z)(I,Z,C)}):"";return(0,r.jsx)(h.Z,{open:l,onClose:()=>u(!1),maxWidth:"Small",fullWidth:!0,classes:{paper:k.dialog},"data-testid":"purchaseDialog",children:(0,r.jsxs)(m.Z,{container:!0,direction:"column",className:k.creatorStoreDialogBody,children:[(0,r.jsx)(f.Z,{className:k.creatorStoreDialogTitle,children:v("Heading.BuyItem")}),(0,r.jsx)(g.Z,{}),(0,r.jsxs)(m.Z,{container:!0,className:k.fiatProduct,children:[(0,r.jsx)(b.ef,{alt:null!=n?n:"Asset Image",containerClass:k.thumbnailContainer,imgClassName:k.thumbnail,size:b.N3._250x250,targetId:t,type:b.Ij.assetThumbnail}),(0,r.jsxs)(m.Z,{container:!0,direction:"column",className:k.dialogBody,children:[(0,r.jsx)(w.Z,{variant:"h5",children:n}),a&&(0,r.jsx)(x.Z,{creator:a,displayAsAuthor:!0,variant:"body1",assetId:t})]})]}),(0,r.jsx)(g.Z,{}),(0,r.jsxs)(m.Z,{container:!0,direction:"row",justifyContent:"center",className:k.creatorStoreButtons,children:[(0,r.jsx)(o.Z,{color:"secondary",onClick:()=>u(!1),size:"large",variant:"outlined",children:v("Action.Cancel")}),(0,r.jsx)(o.Z,{color:"primaryBrand",onClick:d,size:"large",variant:"contained",loading:c,"data-testid":"dialogPurchaseButton",children:j})]})]})})},Z=n(30875),I=n(23463),j=n(59995),S=n(78340),A=n(87562),N=n(15168),P=n(42913),T=n(88643),R=n(434),E=n(72054),L=n(60553),M=n(57417);let B=(0,C.Z)()((e,t)=>{let{isWebViewAvailable:n}=t;return{getAssetButton:{[e.breakpoints.down(M.wt)]:{width:"100%"},whiteSpace:"nowrap",...n&&{minHeight:0,paddingBottom:5,paddingTop:5}}}});var V=e=>{var t,n,h,m,f,g,w,b,x,C,y;let{assetId:V,assetName:F,assetSubTypes:W,assetTypeId:O,asyncPurchaseSuccess:D,creator:U,fiatProduct:H,hasScripts:z,isFiatProductLoading:q,keyword:G,pageNumber:_,pagePosition:K,...$}=e,{open:X,dialog:Y}=(0,I.CO)(V),{isWebViewAvailable:J}=(0,L.ZF)(),{classes:Q}=B({isWebViewAvailable:J}),{locale:ee}=(0,i.ql)(),{translate:et}=(0,i.$G)(),{user:en,login:er}=(0,T.je)(),{isOwned:ea,loading:ei}=(0,Z.m6)(V),{getIsItemOwned:es}=(0,Z.rh)(),{assetSearchResultSourceMap:eo,searchUuid:el}=(0,c.j0)(),{data:ec}=(0,j.A8)(),{clearSnackbar:eu,setMessageAndSeverity:ed}=(0,R.Ds)(),{setShouldIndex:ev}=(0,A.qt)(),[ep,eh]=(0,a.useState)(!1),em=(0,a.useRef)(ea),ef=(0,a.useRef)(void 0),eg=W?W.join(","):"",ew=(0,a.useMemo)(()=>{var e,t,n,r,a,i,s,o,l;return{assetId:null!=V?V:0,assetSubTypes:eg,assetType:O,assetTypeId:O,currencyCode:null!==(i=null==H?void 0:null===(e=H.purchasePrice)||void 0===e?void 0:e.currencyCode)&&void 0!==i?i:"",hasScripts:z,isVerifiedCreator:null==U?void 0:U.isVerifiedCreator,pageNumber:null!=_?_:0,pagePosition:null!=K?K:0,priceExponent:null!==(s=null==H?void 0:null===(n=H.purchasePrice)||void 0===n?void 0:null===(t=n.quantity)||void 0===t?void 0:t.exponent)&&void 0!==s?s:0,priceSignificand:null!==(o=null==H?void 0:null===(a=H.purchasePrice)||void 0===a?void 0:null===(r=a.quantity)||void 0===r?void 0:r.significand)&&void 0!==o?o:0,searchId:null!=el?el:"",searchKeyword:null!=G?G:"",searchResultSource:null!==(l=eo.get(null!=V?V:0))&&void 0!==l?l:""}},[V,eo,eg,O,null==U?void 0:U.isVerifiedCreator,null==H?void 0:null===(t=H.purchasePrice)||void 0===t?void 0:t.currencyCode,null==H?void 0:null===(h=H.purchasePrice)||void 0===h?void 0:null===(n=h.quantity)||void 0===n?void 0:n.exponent,null==H?void 0:null===(f=H.purchasePrice)||void 0===f?void 0:null===(m=f.quantity)||void 0===m?void 0:m.significand,z,G,_,K,el]),{purchaseAsset:eb,loading:ex,error:eC}=(0,S.pH)(ew),ey=(0,s.Z)(e=>e.breakpoints.down(M.wt)),[ek,eZ]=(0,a.useState)(!1),[eI,ej]=(0,a.useState)(!1),[eS,eA]=(0,a.useState)(!1),[eN,eP]=(0,a.useState)(!1),eT=null==H?void 0:H.purchasable,eR=(0,S.m_)(),eE=(0,S.px)(),eL=(0,S.dc)(null==U?void 0:U.id),eM=(0,u.ZP)(O),eB=(0,d.Z)(H),eV=(null==en?void 0:en.id)!==void 0,eF=O===l.a9.FontFamily,eW=O===l.a9.Plugin,eO=(0,L.ZF)(),eD=(0,a.useCallback)(async()=>{await eO.call(E.g.addToInventory,{assetId:V,assetTypeId:O})},[V,O,eO]),eU=(0,a.useCallback)(async()=>{try{var e;eA(!0);let{hasInserted:t}=await eO.call(E.g.insertAsset,{assetId:V,assetName:null!=F?F:"",assetSubTypes:null!=W?W:[],assetTypeId:O,assetWasDragged:!1,insertionMethod:"ClickInsert",isVerifiedCreator:null!==(e=null==U?void 0:U.isVerifiedCreator)&&void 0!==e&&e},L.U5);t&&eW&&eP(!0)}catch(e){}finally{eA(!1)}},[V,F,O,W,U,eW,eO,eP,eA]),eH=(0,a.useCallback)(()=>{clearInterval(ef.current),ef.current=void 0},[]),ez=(0,a.useCallback)(async()=>{let e=0;eH(),ef.current=setInterval(async()=>{em.current=await es(V,!0),e+=1,(em.current||e>=100)&&(eH(),J&&(em.current&&eU(),eh(!1)))},3e3)},[V,eH,es,J,eU]),eq=(0,a.useCallback)(async()=>{var e,t;J&&(0,d.Z)(H)&&eh(!0);let n=await eb(V,(0,v.Z)(O),null==H?void 0:H.purchasePrice,null!==(e=null==U?void 0:U.id)&&void 0!==e?e:0,null!==(t=null==U?void 0:U.name)&&void 0!==t?t:"");if((null==n?void 0:n.purchaseTransactionStatus)===N.n5.Success&&(null==n?void 0:n.checkoutUrl)){if(J){window.open(n.checkoutUrl,"_blank"),ez(),eZ(!1);return}window.location.href=n.checkoutUrl}else(null==n?void 0:n.purchaseTransactionStatus)===N.n5.NotAllowed&&(null==n?void 0:n.checkoutUrl)&&window.open(n.checkoutUrl,"_blank");J&&(eF&&eD(),eh(!1)),eZ(!1)},[eb,V,O,null==U?void 0:U.id,null==U?void 0:U.name,H,J,eF,ez,eD]),eG=(0,a.useCallback)(()=>{eB?eZ(!0):eq()},[eq,eB]),e_=(0,a.useCallback)(async()=>{eB&&!ea?eG():((eW||eF)&&!ea&&await eq(),eU())},[eB,ea,eW,eF,eq,eG,eU]),eK=(0,a.useCallback)(async()=>{eV?ea?X():eG():er()},[eV,ea,er,eG,X]),e$=(0,a.useCallback)(()=>{if(J&&!(eB&&!ea))switch(O){case l.a9.FontFamily:return ea?et("Action.Installed"):et("Action.Install");case l.a9.Plugin:return eN?et("Action.Installed"):et("Action.Install");default:return et("Action.Insert")}if(ea)return et("Action.OpenInStudio");if(eB){var e,t;let n=null==H?void 0:null===(e=H.purchasePrice)||void 0===e?void 0:e.currencyCode,r=null==H?void 0:null===(t=H.purchasePrice)||void 0===t?void 0:t.quantity;return null!=n&&null!=r?et("Action.BuyAssetFor",{price:(0,p.Z)(r,n,ee)}):""}return et("Action.GetAsset",{assetType:et(eM)})},[ea,eB,et,eM,J,O,eN,null==H?void 0:null===(g=H.purchasePrice)||void 0===g?void 0:g.currencyCode,null==H?void 0:null===(w=H.purchasePrice)||void 0===w?void 0:w.quantity,ee]);(0,a.useEffect)(()=>{void 0===eT||eT||ev(!1)},[eT,ev]);let eX=D||q||ex||ei||ep;!ei&&ea&&(eX=!1);let eY=!eT&&!ea;eV&&!ea&&(null==H?void 0:null===(x=H.purchasePrice)||void 0===x?void 0:null===(b=x.quantity)||void 0===b?void 0:b.significand)&&(null==H?void 0:null===(y=H.purchasePrice)||void 0===y?void 0:null===(C=y.quantity)||void 0===C?void 0:C.significand)>0&&(eY=!eT||!eR||eE||eL||(null==ec?void 0:ec.purchaserStatus)===P._W.CountryRestricted),eF&&ea&&J&&(eY=!0),eN&&J&&(eY=!0),(0,a.useEffect)(()=>{if(!q&&!ei){if(eC)ed({severity:"error",translatedMessage:et("Message.PurchaseCannotBeCompleted")});else if(void 0===eT||eT||ea){if(D&&eB){var e;em.current=null!==(e=em.current)&&void 0!==e?e:ea,em.current||ez(),ed({severity:"success",translatedMessage:et(ea?"Message.YouHavePurchased":"Message.AsyncPurchaseCompleted",{assetName:null!=F?F:""})})}}else ed({severity:"info",translatedMessage:et("Message.CannotPurchaseItem")})}return()=>{eH()}},[F,D,eH,eB,q,ei,ea,eT,eC,ed,et,ez]);let eJ=(0,a.useCallback)(async()=>{ej(!0);try{let{isInstalled:e}=await eO.call(E.g.getPluginInfo,{assetId:V});eP(e)}catch(e){eP(!1)}finally{ej(!1)}},[V,eO]);return(0,a.useEffect)(()=>{J&&eW&&eJ()},[eW,eJ,J]),(0,a.useEffect)(()=>function(){eu()},[]),(0,r.jsxs)(a.Fragment,{children:[(0,r.jsx)(o.Z,{color:"primaryBrand",className:Q.getAssetButton,loading:eX||eI||eS,onClick:J?e_:eK,size:ey?"medium":"large",variant:"contained","data-testid":"getAsset",disabled:eY,...$,children:e$()}),eB&&(null==H?void 0:H.purchasePrice)!==void 0&&(null==H?void 0:H.purchasePrice)!==null&&(0,r.jsx)(k,{assetId:V,assetName:F,creator:U,fiatProductPrice:H.purchasePrice,isDialogOpen:ek,setIsDialogOpen:eZ,isPurchaseButtonLoading:eX,purchaseAsset:eq}),Y]})}},51972:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(85893),a=n(44579),i=n(70509);n(67294);let s=(0,n(26170).Z)()(()=>({loadingContainer:{height:"100%"}}));var o=()=>{let{classes:e}=s();return(0,r.jsx)(a.Z,{container:!0,alignItems:"center",justifyContent:"center",className:e.loadingContainer,children:(0,r.jsx)(i.C,{color:"secondary","data-testid":"loadingSpinner"})})}},20415:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(85893),a=n(67294),i=n(23620),s=n(3153),o=n(35955),l=n(434);let c=(0,n(26170).Z)()(()=>({visible:{visibility:"visible"},hidden:{visibility:"hidden"}}));var u=()=>{let{clearSnackbar:e,messageAndSeverity:t,DEFAULT_ERROR_MESSAGE:n}=(0,l.Ds)(),{translatedTitle:u,translatedMessage:d,severity:v}=t,{classes:p}=c(),[h,m]=(0,a.useState)(!0),f=(0,a.useCallback)(()=>{m(!1),e(),setTimeout(()=>m(!0),500)},[e]);return(0,r.jsx)(i.S,{"data-testid":"snackbar",autoHide:t.autoHide,anchorOrigin:{horizontal:"center",vertical:"top"},open:void 0!==d,onClose:f,className:h?p.visible:p.hidden,children:(0,r.jsxs)(s.A,{"data-testid":"snackbarAlert",severity:v,onClose:f,className:h?p.visible:p.hidden,children:[u&&(0,r.jsx)(o.A,{"data-testid":"snackbarAlertTitle",children:u}),d||"error"===v&&n]})})}},8365:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(85893);n(67294);var a=n(15599),i=n(61555),s=n(41664),o=n.n(s);let l=(0,n(26170).Z)()(()=>({breadcrumbsContainer:{margin:"20px 0"},breadcrumbLink:{"&:hover":{textDecoration:"underline"}}}));var c=e=>{let{breadcrumbs:t}=e,{classes:{breadcrumbsContainer:n,breadcrumbLink:s}}=l();return(0,r.jsx)(a.B,{maxItems:3,className:n,children:t.map((e,n)=>{var a;return n===t.length-1?(0,r.jsx)(i.Z,{color:"info",children:e.name},e.name):(0,r.jsx)(o(),{href:null!==(a=e.path)&&void 0!==a?a:"",onClick:e.onClick,passHref:!0,className:s,children:(0,r.jsx)(i.Z,{color:"secondary",children:e.name})},e.path)})})}},76603:function(e,t,n){n.d(t,{Z:function(){return C}});var r=n(85893),a=n(67294),i=n(39853),s=n(23887),o=n(63545),l=n(74279),c=n(61555),u=n(44579),d=n(28863),v=n(57140),p=n(41664),h=n.n(p),m=n(60553),f=n(98107),g=n(37483),w=n(63411),b=function(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return t===w.xq.User&&n?"@".concat(e):e};let x=(0,n(26170).Z)()((e,t)=>({creatorContainer:{display:"box",maxWidth:"100%",width:"auto"},creatorIcon:{alignItems:"center",display:"flex",justifyContent:"center",marginLeft:6,marginRight:t.hasCreatingUniverse?6:0},creatorName:{overflow:"hidden",textOverflow:"ellipsis","&:hover":{textDecoration:t.isWebViewAvailable?void 0:"underline"},whiteSpace:"nowrap"}}));var C=e=>{let{assetId:t,assetTypeId:n,creatingUniverseName:p,creator:w,displayAsAuthor:C=!1,iconSize:y="small",rootPlaceId:k,variant:Z="smallLabel1",color:I="inherit",includeAtChar:j=!0,fontSizeOverride:S}=e,{translate:A}=(0,l.$G)(),{isWebViewAvailable:N}=(0,m.ZF)(),{classes:P}=x({hasCreatingUniverse:!!(p&&k),isWebViewAvailable:N}),{sendEvent:T}=(0,i.Z)(),{removeImageFromQueryState:R}=(0,o.bX)();return(0,a.useMemo)(()=>{if(w.id&&w.name&&w.type){let e=n?g.Z.getCreatorBrowseByAssetTypeUrl(w.name,w.type,n):g.Z.getCreatorProfileUrl(w.id,w.type),a=C?(0,r.jsx)(f.Z,{"data-testid":"byCreatorName",translationKey:"Label.ByCreator",opening:"creatorLinkStart",closing:"creatorLinkEnd",variant:Z,color:I,linkTargetName:b(w.name,w.type,j),linkTargetUrl:e,linkUnderlineOnHover:!N,fontSizeOverride:S}):(0,r.jsx)(h(),{className:P.creatorName,href:e,passHref:!0,onClick:()=>{R()},children:(0,r.jsx)(c.Z,{color:I,variant:Z,children:b(w.name,w.type,j)})});return(0,r.jsxs)(u.Z,{container:!0,direction:"row",alignItems:"center",wrap:"nowrap",className:P.creatorContainer,children:[a,!1===w.isVerifiedCreator&&(0,r.jsx)(h(),{target:"_blank",href:"https://create.roblox.com/docs/production/publishing/creator-marketplace#verifying-your-account",passHref:!0,rel:"noreferrer",className:P.creatorIcon,children:(0,r.jsx)(d.T,{arrow:!0,placement:"top",title:A("Label.CreatorIsUnverified"),children:(0,r.jsx)(v.v3j,{fontSize:y,"data-testid":"unverifiedUserIcon",onClick:()=>{T(s.B_.IDVerifiedClicked,{assetId:null!=t?t:0})}})})}),p&&k&&(0,r.jsx)(f.Z,{closing:"linkEnd",linkTargetName:p,linkTargetUrl:g.Z.getPlaceUrl(k),opening:"linkStart",translationKey:"Label.InExperience",variant:"body1",fontSizeOverride:S})]})}return null},[w.id,w.name,w.type,w.isVerifiedCreator,n,C,Z,I,j,N,S,P.creatorName,P.creatorContainer,P.creatorIcon,A,y,p,k,T,t,R])}},98107:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(85893);n(67294);var a=n(41664),i=n.n(a),s=n(61555),o=n(74279);let l=(0,n(26170).Z)()((e,t)=>{let{fontSizeOverride:n,linkUnderlineOnHover:r}=t;return{inlineContainer:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:e.palette.content.muted,fontSize:n},link:{color:e.palette.content.standard,"&:hover":{textDecoration:r?"underline":void 0}},linkText:{fontSize:n}}});var c=e=>{let{translationKey:t,opening:n,closing:a,color:c,variant:u,linkTargetUrl:d,linkTargetName:v,textClass:p,linkClass:h,linkUnderlineOnHover:m=!0,fontSizeOverride:f}=e,{translateHTML:g}=(0,o.$G)(),{classes:w}=l({fontSizeOverride:f,linkUnderlineOnHover:m});return(0,r.jsx)(s.Z,{color:c,variant:u,className:p||w.inlineContainer,children:g(t,[{opening:n,closing:a,content:e=>(0,r.jsx)(i(),{href:d,className:h||w.link,passHref:!0,children:(0,r.jsx)(s.Z,{color:c,variant:u,className:w.linkText,children:void 0!==v?v:e})})}])})}},97618:function(e,t,n){var r=n(57417);let a=(0,n(26170).Z)()((e,t)=>{let{isWebViewAvailable:n}=t;return{packageIcon:{...n&&{fontSize:12}},packageIconContainer:{position:"absolute",top:152,left:152,height:30,width:30,borderRadius:3,backgroundColor:e.palette.content.inverse,paddingTop:7,paddingLeft:7,[e.breakpoints.down(r.wt)]:{top:80,left:80,...n&&{top:54,left:54,height:20,width:20,paddingTop:0,paddingLeft:4}}},detailsIcon:{position:"absolute",top:18,left:152,height:30,width:30,borderRadius:3,backgroundColor:e.palette.content.inverse,paddingTop:7,paddingLeft:7,"&:hover":{backgroundColor:e.palette.surface[300],opacity:"50%"},[e.breakpoints.down(r.wt)]:{top:5,left:80,...n&&{top:4,left:44}}}}});t.Z=a},90102:function(e,t,n){var r=n(85893);n(67294);var a=n(80137),i=n(44579),s=n(7414),o=n(69057),l=n(57140),c=n(41664),u=n.n(c),d=n(60553),v=n(97618);t.Z=e=>{let{alt:t,assetLinkProps:n,containerClass:c,gridClassName:p,imgClassName:h,isPackage:m=!1,isHoveringAssetTile:f=!1,size:g,targetId:w,type:b,onClick:x,onClickAsset:C,onLoadThumbnailStatus:y,children:k}=e,{isWebViewAvailable:Z}=(0,d.ZF)(),{classes:I}=(0,v.Z)({isWebViewAvailable:Z});return(0,r.jsxs)(i.Z,{container:!0,direction:"column",onClick:x,className:p,children:[(0,r.jsx)(a.ef,{alt:t,imgClassName:h,containerClass:c,targetId:w,type:b,size:g,onLoadThumbnailStatus:y}),m&&(0,r.jsx)("div",{className:I.packageIconContainer,children:(0,r.jsx)(s.Z,{fontSize:"small",className:I.packageIcon})}),f&&(0,r.jsx)(u(),{...n,passHref:!0,onClick:e=>{e.stopPropagation(),null==C||C()},children:(0,r.jsx)(o.Z,{"aria-label":"detailsButton",className:I.detailsIcon,color:"secondary","data-testid":"zoomIcon",children:(0,r.jsx)(l.DYM,{fontSize:"medium"})})}),k]})}},51532:function(e,t,n){let r;n.d(t,{Ku:function(){return o},Pt:function(){return l},pe:function(){return c},qB:function(){return i}});var a=n(39424);let i={MP3:"mp3"},s={MP3:"audio/mpeg"};function o(){return void 0===r&&(r=function(){try{if("safari"in window||"webkit"in window)return!1;return!!document.createElement("audio").canPlayType("audio/ogg; codecs=vorbis")}catch(e){return console.error("Error detecting OGG support:",e),(0,a.Tb)(e),!1}}()),r}function l(e){return e===i.MP3||o()}function c(e,t){return t===i.MP3?URL.createObjectURL(new Blob([e],{type:s.MP3})):URL.createObjectURL(new Blob([e]))}},8937:function(e,t){t.Z=e=>"".concat(Math.floor(e/60),":").concat((Math.floor(e)%60).toString().padStart(2,"0"))},93019:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(21451);let a=null;async function i(){if(a)return a;a=r.Z.loadBehavior("abuse-reporting-revamp");try{await a}catch(e){a=Promise.resolve({EnableCreatorHubMarketplace:!1})}return a}},53309:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(11049);function a(e){let{asset:t,keyword:n,pageNumber:a,pagePosition:i}=e;return(null==t?void 0:t.id)?{href:(null==t?void 0:t.name)?(0,r.Z)(null==t?void 0:t.id,null==t?void 0:t.name,n,a,i):"/asset/".concat(null==t?void 0:t.id)}:{href:""}}},33179:function(e,t){t.Z=(e,t,n)=>{let{significand:r,exponent:a}=e;return(void 0===r||void 0===a?0:r*10**a).toLocaleString(null==n?void 0:n.toString(),{currency:null!=t?t:"USD",style:"currency"})}},56227:function(e,t,n){var r=n(53316);t.Z=e=>r.a9.Audio===e||r.a9.Music===e||r.a9.SoundEffect===e},92944:function(e,t,n){var r=n(47799),a=n(53316);let i={[a.a9.Audio]:r.T3.Audio,[a.a9.Model]:r.T3.Model,[a.a9.Decal]:r.T3.Decal,[a.a9.Plugin]:r.T3.Plugin,[a.a9.MeshPart]:r.T3.MeshPart,[a.a9.Video]:r.T3.Video,[a.a9.FontFamily]:r.T3.FontFamily};t.Z=e=>{var t;return null!==(t=i[e])&&void 0!==t?t:r.T3.Invalid}},3508:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(97909);function a(e,t){let n=new URL("".concat((0,r.gi)(),"/abusereport/asset")),a={id:e.toString(),source:"CreatorMarketplaceWeb"};t&&(a.redirecturl=t);let i=new URLSearchParams(a);return n.search=i.toString(),n.toString()}},572:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){return e&&"object"==typeof e&&"response"in e?e.response:e&&"object"==typeof e&&"json"in e?e:null}},89306:function(e,t){t.Z=e=>{var t,n,r,a,i,s;return(null==e?void 0:null===(n=e.purchasePrice)||void 0===n?void 0:null===(t=n.quantity)||void 0===t?void 0:t.significand)!==null&&(null==e?void 0:null===(a=e.purchasePrice)||void 0===a?void 0:null===(r=a.quantity)||void 0===r?void 0:r.significand)!==void 0&&(null==e?void 0:null===(s=e.purchasePrice)||void 0===s?void 0:null===(i=s.quantity)||void 0===i?void 0:i.significand)!==0}},32489:function(e,t,n){var r=n(9591);t.Z=e=>r.QK.includes(e)},52155:function(e,t,n){var r=n(97909),a=n(88643);t.Z=e=>{var t;let{targetId:n}=e,{user:i}=(0,a.je)(),s=new URLSearchParams({abuseVector:"asset",submitterId:(null==i?void 0:null===(t=i.id)||void 0===t?void 0:t.toString())||"",targetId:n});return"".concat((0,r.gi)(),"/report-abuse/?").concat(s.toString())}},73694:function(e,t,n){n.d(t,{Z:function(){return b}});var r=n(91397),a=n(31162),i=n(53316),s=n(59031),o=n(74279),l=n(67294),c=n(34420),u=n(60553),d=n(8937),v=n(10476),p=n(2948);let h=/(^\w|-\w|_\w| \w)/g,m=/-|_| /,f=/ |&|'/g;var g=e=>e.replace(h,e=>e.replace(m,"").toUpperCase()).replace(f,e=>"");function w(e){return Object.keys(r.ww).find(t=>r.ww[t]===e)||"Unknown"}var b=e=>{var t,n,h,m,f,b;let x;let{translate:C}=(0,o.$G)(),{frontendFlags:y}=(0,c.YV)(),{isWebViewAvailable:k}=(0,u.ZF)(),Z=null!==(m=null==e?void 0:e.id)&&void 0!==m?m:0,I=null==e?void 0:e.typeId,j=null==e?void 0:e.audioDetails,S=null==e?void 0:e.createdUtc,A=null==e?void 0:e.duration,N=null!==(f=null==e?void 0:e.hasScripts)&&void 0!==f&&f,P=null!==(b=null==e?void 0:null===(t=e.assetSubTypes)||void 0===t?void 0:t.includes(a.X9.Package))&&void 0!==b&&b,T=null==e?void 0:e.updatedUtc,R=(null==j?void 0:null===(n=j.audioType)||void 0===n?void 0:n.toString())===w(r.ww.Music)||(null==j?void 0:j.audioType)===r.ww.Music,E=(null==j?void 0:null===(h=j.audioType)||void 0===h?void 0:h.toString())===w(r.ww.SoundEffect)||(null==j?void 0:j.audioType)===r.ww.SoundEffect,L=I===i.a9.Audio||R||E,M=I===i.a9.FontFamily,B=I===i.a9.Plugin;x=y[p.Wu.FrontendFlagPreviewExpansion]&&(I===i.a9.MeshPart||I===i.a9.Model)||I===i.a9.Plugin;let V=!k&&y[p.Wu.FrontendFlagEnableTryInRoblox]&&(I===i.a9.Model||I===i.a9.MeshPart),F=(0,l.useMemo)(()=>{var t;return null!==(t=null==e?void 0:e.socialLinks)&&void 0!==t?t:[]},[null==e?void 0:e.socialLinks]);return(0,l.useMemo)(()=>{let e,t,n,r,a,o,l,c;if(I&&(e=C((0,v.ZP)(I)),L&&(e=C((0,v.ZP)(i.a9.Audio)),(E||R)&&(e+=" / ".concat(C((0,v.ZP)(R?i.a9.Music:i.a9.SoundEffect)))))),L&&"number"==typeof A&&(t=(0,d.Z)(A)),null==j?void 0:j.soundEffectCategory)n=j.soundEffectCategory,(null==j?void 0:j.soundEffectSubcategory)&&(r=j.soundEffectSubcategory);else if((null==j?void 0:j.musicGenre)&&(n=j.musicGenre)){let e=n.split("/");e.length>1&&([n,r]=e)}return n&&(a=C("Label.".concat(g(n)))),r&&(o=C("Label.".concat(g(r)))),null!=S&&(l=(0,s.ar)(S)),null!=T&&(c=(0,s.ar)(T)),{arePreviewsEnabled:x,assetId:Z,assetType:e,assetTypeId:I,audioCategory:n,audioCategoryTranslated:a,audioSubCategory:r,audioSubCategoryTranslated:o,createdAt:l,hasScripts:N,isAudio:L,isFont:M,isMusic:R,isPackage:P,isPlugin:B,isSoundEffect:E,isTryInRobloxEnabled:V,length:t,socialLinks:F,updatedAt:c}},[x,Z,I,j,S,A,N,L,M,R,P,B,E,V,F,C,T])}},65016:function(e,t,n){n.d(t,{Z:function(){return g}});var r=n(85893),a=n(74279),i=n(39977),s=n(61555),o=n(44579),l=n(57140),c=n(28863),u=n(67294),d=n(57417),v=n(60553),p=n(59031),h=e=>(0,p.V2)(e/100,{style:"percent",maximumFractionalDigits:0}),m=e=>{if(null==e)return null;let t=(0,p.YX)(e,void 0,1e4,!0);return"".concat(t).concat(e>=10&&e<1e4?"+":"")};let f=(0,n(26170).Z)()((e,t)=>{let{isWebViewAssetTile:n,isWebViewAvailable:r,isMediumSize:a,voting:i}=t,s=()=>{var t,n;let r=null!==(t=i.voteCount)&&void 0!==t?t:0,a=(null!==(n=i.upVotePercent)&&void 0!==n?n:0)/100;return r<20?e.palette.content.muted:a>=.7?e.palette.content.alert.active:a<.7&&a>=.4?e.palette.components.rating.activeFill:e.palette.actionV2.important.fill};return{icon:{color:s(),marginRight:a?8:4,...r&&{fontSize:n?11:14}},notEnoughRatings:{color:s(),fontStyle:"italic",marginBottom:"auto",marginRight:18,marginTop:"auto",whiteSpace:"nowrap",[e.breakpoints.down(d.wt)]:{marginRight:0,textAlign:"right",...r&&{overflow:"hidden",textAlign:"left",textOverflow:"ellipsis"}}},totalVotesText:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},voteCountContainer:{display:"flex",marginRight:a?18:0,overflow:r?"hidden":"initial"},votePercentage:{color:s(),marginRight:4,...r&&{marginRight:2}}}});var g=e=>{let{voting:t,isMediumSize:n=!1,isWebViewAssetTile:p=!1,showRatingsCount:g=!1,showTextWhenNotEnoughRatings:w=!0}=e,{translate:b}=(0,a.$G)(),{isWebViewAvailable:x}=(0,v.ZF)(),{classes:C}=f({isMediumSize:n,isWebViewAssetTile:p,isWebViewAvailable:x,voting:t}),y=(0,i.Z)(e=>e.breakpoints.down(d.wt));return(0,u.useMemo)(()=>{var e,a,i;let u;u=n?"body1":p?"tooltip":"body2";let d=b("Label.MoreVotesNeededTooltip"),v=null!==(e=null==t?void 0:t.voteCount)&&void 0!==e?e:0,f=h(null!==(a=null==t?void 0:t.upVotePercent)&&void 0!==a?a:0),x=null!==(i=m(v))&&void 0!==i?i:"0",k=v>=10,Z=p?x:"(".concat(b("Label.Votes",{count:"".concat(x)}),")"),I=(0,r.jsx)(s.Z,{color:p?"secondary":"inherit",variant:u,className:C.totalVotesText,children:Z});return w||k?k?(0,r.jsxs)(o.Z,{alignItems:"center",className:C.voteCountContainer,direction:"row",wrap:"nowrap",justifyContent:y?"right":"default",children:[(0,r.jsx)(l.$TJ,{fontSize:n?"medium":"small",className:C.icon,"data-testid":"voteIcon"}),(0,r.jsx)(s.Z,{variant:u,className:C.votePercentage,children:f}),(!y||g)&&(v<20?(0,r.jsx)(c.T,{arrow:!0,placement:"bottom",title:d,children:I}):I)]}):(0,r.jsx)(c.T,{arrow:!0,placement:"bottom",title:d,children:(0,r.jsxs)(s.Z,{variant:u,className:C.notEnoughRatings,children:["(",b("Label.NotEnoughRatings"),")"]})}):null},[y,n,p,g,w,C,b,t])}},173:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(85893);n(67294);var a=n(69057),i=n(57140);let s=(0,n(26170).Z)()((e,t)=>{let{compact:n,isPlaying:r}=t,a=n?22:28,i=n?18:22;return{button:{height:a,width:a,backgroundColor:r?e.palette.actionV2.primaryBrand.fill:e.palette.states.active,"&:hover":{backgroundColor:r?e.palette.states.active:e.palette.actionV2.primaryBrand.fill}},icon:{width:i,height:i,color:e.palette.background.media}}});var o=e=>{let{isPlaying:t,compact:n=!1,onClick:o}=e,{classes:l}=s({compact:n,isPlaying:t});return(0,r.jsx)(a.Z,{role:"button",onClick:o,className:l.button,"aria-label":t?"pause":"play",size:"large",children:t?(0,r.jsx)(i.dzL,{className:l.icon}):(0,r.jsx)(i.Jrb,{className:l.icon})})}},55575:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(85893);n(67294);var a=n(39977),i=n(44579),s=n(61555),o=n(57140),l=n(69057),c=n(74279),u=n(57417),d=n(60553);let v=(0,n(26170).Z)()((e,t)=>{let{isWebViewAvailable:n}=t;return{swimlaneHeader:{cursor:"pointer",marginBottom:n?4:8},swimlaneName:{marginRight:16},seeAllContainer:{zIndex:2},seeAll:{cursor:"pointer"}}});var p=e=>{let t,{displayName:n,enableSeeAll:p=!1,handleClickSeeAll:h}=e,{translate:m}=(0,c.$G)(),{isWebViewAvailable:f}=(0,d.ZF)(),{classes:g}=v({isWebViewAvailable:f}),w=(0,a.Z)(e=>e.breakpoints.down(u.wt));return t=f?"h6":w?"h5":"h2",(0,r.jsxs)(i.Z,{container:!0,direction:"row",justifyContent:f?"space-between":"left",alignItems:"center",className:g.swimlaneHeader,wrap:"nowrap",children:[(0,r.jsx)(s.Z,{className:f?g.swimlaneName:void 0,component:"h5",onClick:h,variant:t,noWrap:!0,children:n}),p&&(f?(0,r.jsx)(i.Z,{item:!0,className:g.seeAllContainer,children:(0,r.jsxs)(i.Z,{container:!0,alignItems:"center","data-testid":"swimlaneSeeAll",className:g.seeAll,onClick:h,wrap:"nowrap",children:[(0,r.jsx)(s.Z,{color:"secondary",variant:"smallLabel1",noWrap:!0,children:m("Label.SeeAll")}),(0,r.jsx)(o._Qn,{color:"secondary",fontSize:"small"})]})}):(0,r.jsx)(l.Z,{"aria-label":"clickSeeAll",color:"default","data-testid":"swimlaneSeeAll",onClick:h,size:"small",children:(0,r.jsx)(o._Qn,{fontSize:w?"medium":"large"})}))]})}}}]);